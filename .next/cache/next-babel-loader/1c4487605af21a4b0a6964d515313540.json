{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nvar _jsxFileName = \"/Users/daehankim/Documents/GitHub/blogshot/reducers/hospitalinfo.js\";\nimport React from \"react\";\nimport { SET_HOSPITAL_LIST, ADD_HOSPITAL_LIST, SELECTED_HOSPITAL, SELECTED_HOSPITAL_SUCCESS, SELECTED_HOSPITAL_FAILURE, EXTENTION_HOSPITAL, HOSPITAL_AREA_FILTER_APPLY, HOSPITAL_FILTER_CLEAR, HOSPITAL_REVIEW_LIST, HOSPITAL_REVIEW_LIST_SUCCESS, HOSPITAL_REVIEW_LIST_FAILURE, GET_HOSPITAL_ALL_REVIEW, RMV_HOSPITAL_LIST } from \"../actions/types\";\nimport axios from \"axios\";\nimport { BASE_URL, API_TIME_OUT } from \"../contants/constants\";\nimport Router from \"next/router\";\nimport { set_loading, set_message, message_open, message_close } from \"./utilsinfo\";\nimport { set_kakao_logout } from \"./kakaoinfo\";\nimport { get_area_requset, get_medical_departments_requset, get_medical_universities_requset } from \"./searchinfo\";\nimport { set_doctor_list, area_filter_apply as doctor_area_filter_apply, department_filter_apply, universitie_filter_apply } from \"./doctorinfo\";\nimport { errorExcute } from \"../logic/errorLogic\";\nconst initialState = {\n  list_hospital: [],\n  filter_hospital: [],\n  extend_doctor_list: [],\n  extended_hospital_id: null,\n  cnt_hospital: 0,\n  cnt_hospital_filter: 0,\n  is_filter: {\n    area: false\n  },\n  selected_hospital_id: null,\n  data: {},\n  selected_state: \"wait\",\n  // success, failure, wait, try,\n  // extention_hospital_id:\n  hospital_review_list: [],\n  hospital_review_state: \"stay\"\n};\nexport function set_hospital_state(prams) {\n  return (dispatch, getState) => {};\n}\nexport const hospitalState = {\n  setState: set_hospital_state,\n  state: initialState\n};\n\nfunction getAPI(id, exUrl, key, token) {\n  return axios.get(`https://${BASE_URL}/hospital/${id}${exUrl || \"\"}`, {\n    params: {\n      token\n    },\n    headers: token ? {} : {\n      // 요청 헤더\n      \"X-Api-Key\": key\n    },\n    timeout: API_TIME_OUT / 2 // 15초 이내에 응답이 오지 않으면 에러로 간주\n\n  });\n}\n\nfunction getAPI2(id, options) {\n  return axios.get(`https://${BASE_URL}/search/doctors/in_hospital/${id}`, {\n    params: options,\n    headers: {// 요청 헤더\n    },\n    timeout: API_TIME_OUT / 2 // 15초 이내에 응답이 오지 않으면 에러로 간주\n\n  });\n}\n\nfunction getAPIAsync(id, options) {\n  let response;\n  response = axios.get(`https://${BASE_URL}/search/doctors/in_hospital/${id}`, {\n    params: options,\n    headers: {// 요청 헤더\n    },\n    timeout: API_TIME_OUT / 2 // 15초 이내에 응답이 오지 않으면 에러로 간주\n\n  });\n  return response;\n}\n\nconst getAPI3 = (type, types, loginkey, token) => {\n  const encodeForm = data => {\n    return _Object$keys(data).map(key => encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key])).join(\"&\");\n  };\n\n  if (type == \"post\") {\n    return axios.post(`https://${BASE_URL}/my/review${types[type].url}`, encodeForm(types[type].data), {\n      params: {\n        token\n      },\n      headers: token ? {} : {\n        // 요청 헤더\n        \"X-Api-Key\": loginkey\n      },\n      timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n\n    });\n  } else if (type == \"put\") return axios.put(`https://${BASE_URL}/my/review${types[type].url}`, encodeForm(types[type].data), {\n    params: {\n      token\n    },\n    headers: token ? {} : {\n      // 요청 헤더\n      \"X-Api-Key\": loginkey\n    },\n    timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n\n  });else if (type == \"del\") return axios.delete(`https://${BASE_URL}/my/review${types[type]}`, {\n    params: {\n      token\n    },\n    headers: token ? {} : {\n      // 요청 헤더\n      \"X-Api-Key\": loginkey\n    },\n    timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n\n  });\n\n  return axios.get(`https://${BASE_URL}/my/review/hospital/getAll`, {\n    params: {\n      token\n    },\n    headers: token ? {} : {\n      // 요청 헤더\n      \"X-Api-Key\": loginkey\n    },\n    timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n\n  });\n};\n\nexport const hospital_review_request = (type, review_id, data, is_selected_hospital = true) => {\n  return (dispatch, getState) => {\n    let jwt_token;\n    if (getState().kakaoinfo.login) jwt_token = getState().kakaoinfo.login.jwt_token || localStorage.getItem(\"jwt_token\");\n    let token;\n    if (Router.query.token && !getState().kakaoinfo.is_login) token = Router.query.token;\n    set_loading(true)(dispatch, getState);\n    const types = {\n      get: \"/hospital/getAll\",\n      post: {\n        url: `/hospital/${getState().hospitalinfo.data.id}`,\n        data: data\n      },\n      put: {\n        url: `/h/${review_id || \"\"}`,\n        data: data\n      },\n      del: `/h/${review_id || \"\"}`\n    };\n    dispatch({\n      type: HOSPITAL_REVIEW_LIST\n    });\n    getAPI3(type, types, jwt_token, token).then(response => {\n      let tryBol = true; // console.log(HOSPITAL_REVIEW_LIST_SUCCESS, type, response);\n\n      if (type == \"get\") {\n        set_loading(false)(dispatch, getState);\n        if (getState().utilsinfo.msg !== \"\") message_open()(dispatch, getState);\n        let this_hospital_data = response.data;\n        dispatch({\n          type: HOSPITAL_REVIEW_LIST_SUCCESS,\n          payload: {\n            hospital_review_list: this_hospital_data\n          }\n        });\n      } else if (type == \"post\") {\n        if (response.data.code === 0) {\n          set_message(\"소중한 리뷰 감사드립니다!\")(dispatch, getState);\n          tryBol = true;\n        } else {\n          set_message(response.data.msg)(dispatch, getState);\n          tryBol = false;\n        }\n\n        hospital_review_request(\"get\")(dispatch, getState);\n      } else if (type == \"put\") {\n        if (response.data.code === 0) {\n          set_message(\"리뷰가 수정되었습니다!\")(dispatch, getState);\n          tryBol = true;\n        } else {\n          set_message(response.data.msg)(dispatch, getState);\n          tryBol = false;\n        }\n\n        hospital_review_request(\"get\")(dispatch, getState);\n      } else if (type == \"del\") {\n        if (response.data.code === 0) {\n          set_message(\"리뷰가 삭제되었습니다!\")(dispatch, getState);\n          tryBol = true;\n        } else {\n          set_message(response.data.msg)(dispatch, getState);\n          tryBol = false;\n        }\n\n        hospital_review_request(\"get\")(dispatch, getState);\n      }\n\n      return tryBol;\n    }).catch((err, req) => {\n      // console.error(HOSPITAL_REVIEW_LIST_FAILURE, err, req);\n      dispatch({\n        type: HOSPITAL_REVIEW_LIST_FAILURE\n      });\n      set_loading(false)(dispatch, getState);\n\n      if (type === \"get\") {\n        message_open(\"리뷰 가져오기에 실패했습니다.\")(dispatch, getState);\n      }\n\n      if (type === \"post\") {\n        message_open(\"리뷰 등록하기에 실패했습니다.\")(dispatch, getState);\n      }\n\n      if (type === \"del\") {\n        message_open(\"리뷰 삭제하기에 실패했습니다.\")(dispatch, getState);\n      }\n\n      if (type === \"put\") {\n        message_open(\"리뷰 수정하기에 실패했습니다.\")(dispatch, getState);\n      }\n    });\n  };\n};\nexport const get_hostpital_all_review = hospital_id => {\n  return (dispatch, getState) => {\n    let jwt_token;\n    if (getState().kakaoinfo.login) jwt_token = getState().kakaoinfo.login.jwt_token;\n    let token;\n    if (Router.query.token && !getState().kakaoinfo.is_login) token = Router.query.token;\n    const extantionsUrl = \"/review\";\n    getAPI(hospital_id, extantionsUrl, jwt_token, token).then(response => {\n      // console.log(GET_HOSPITAL_ALL_REVIEW + \"_SUCCESS\", response);\n      dispatch({\n        type: GET_HOSPITAL_ALL_REVIEW,\n        payload: {\n          data: response.data\n        }\n      });\n    }).catch(err => {\n      // console.error(GET_HOSPITAL_ALL_REVIEW + \"_FAILURE\", err);\n      if (err.response) {\n        let cb;\n        let params;\n        if (err.response === 403) cb = () => {\n          set_kakao_logout(jwt_token)(dispatch, getState);\n        };\n        errorExcute(err.response.status, params, cb);\n      }\n    });\n  };\n};\nexport function set_hospital_list(response, more) {\n  return (dispatch, getState) => {\n    const list_hospital = response.data.list_hospital.list;\n    const cnt_hospital = response.data.list_hospital.cnt_hospital;\n    const is_filter = getState().hospitalinfo.is_filter.area;\n\n    if (!more) {\n      dispatch({\n        type: SET_HOSPITAL_LIST,\n        payload: {\n          list_hospital: list_hospital,\n          cnt_hospital: cnt_hospital\n        }\n      });\n    } else {\n      if (is_filter) {\n        const filter_hospital_list = list_hospital.filter(x => x.juso.indexOf(text) == 0 ? true : false);\n        dispatch({\n          type: ADD_HOSPITAL_LIST,\n          payload: {\n            filter_hospital_list: filter_hospital_list\n          }\n        });\n      } else {\n        dispatch({\n          type: ADD_HOSPITAL_LIST,\n          payload: {\n            list_hospital: response.data.list_hospital.list\n          }\n        });\n      }\n    }\n  };\n}\nexport function area_filter_apply(text) {\n  return (dispatch, getState) => {\n    if (text.indexOf(\"전체\") == 0) return;\n    const list_hospital = getState().hospitalinfo.list_hospital;\n    if (!list_hospital || list_hospital.length <= 0) return; //\n\n    const filter_hospital_list = list_hospital.filter(x => x.juso.indexOf(text) == 0 ? true : false);\n    const filter_hospital_cnt = filter_hospital_list.length;\n    const filter_hospital = filter_hospital_list;\n    dispatch({\n      type: HOSPITAL_AREA_FILTER_APPLY,\n      payload: {\n        filter_hospital: filter_hospital,\n        cnt_hospital_filter: filter_hospital_cnt\n      }\n    });\n  };\n}\nexport function selected_hospital(id) {\n  return (dispatch, getState) => {\n    let jwt_token;\n    if (getState().kakaoinfo.login) jwt_token = getState().kakaoinfo.login.jwt_token;\n    let token;\n    if (Router.query.token && !getState().kakaoinfo.is_login) token = Router.query.token;\n    set_loading(true)(dispatch, getState);\n    dispatch({\n      type: SELECTED_HOSPITAL,\n      payload: {\n        selected_hospital_id: id\n      }\n    });\n    getAPI(id, null, jwt_token, token).then(response => {\n      const data = response.data; // console.log(response);\n\n      dispatch({\n        type: SELECTED_HOSPITAL_SUCCESS,\n        payload: {\n          data: data\n        }\n      });\n      setTimeout(() => {\n        set_loading(false)(dispatch, getState);\n      }, 1000);\n    }).catch(err => {\n      // console.error(SELECTED_HOSPITAL_FAILURE, err);\n      if (err.response) {\n        let cb;\n        let params;\n        if (err.response === 403) cb = () => {\n          set_kakao_logout(jwt_token)(dispatch, getState);\n        };\n        errorExcute(err.response.status, params, cb);\n      }\n\n      dispatch({\n        type: SELECTED_HOSPITAL_FAILURE\n      });\n      set_loading(false)(dispatch, getState);\n    });\n  };\n}\nexport function remove_hospital_list() {\n  return dispatch => {\n    dispatch({\n      type: RMV_HOSPITAL_LIST\n    });\n  };\n}\nexport function extention_doctor_list(id, options) {\n  return async (dispatch, getState) => {\n    let option = {\n      offset: options ? options.offset : 0,\n      limit: options ? options.limit : 5\n    };\n    set_loading(true)(dispatch, getState);\n    getAPI2(id, option).then(response => {\n      const data = response.data; // console.log(response);\n\n      let arg = {\n        type: EXTENTION_HOSPITAL,\n        payload: {\n          extend_doctor_list: data.list_doctor.list,\n          extended_hospital_id: id\n        }\n      };\n      dispatch(arg);\n      set_loading(false)(dispatch, getState);\n    }).catch(err => {\n      // console.error(EXTENTION_HOSPITAL, err);\n      set_loading(false)(dispatch, getState);\n    });\n  };\n}\nexport function full_search_doctor_list(id, options) {\n  return async (dispatch, getState) => {\n    set_loading(true)(dispatch, getState);\n    let option = {\n      offset: options ? options.offset : 0,\n      limit: options ? options.limit : 50\n    };\n    let response;\n    let extention_doctor_list = getState().hospitalinfo.extention_doctor_list;\n    response = {\n      data: {\n        list_doctor: {\n          list: null,\n          cnt_doctor: null\n        }\n      }\n    }; // redering deilay\n\n    setTimeout(() => {\n      if (getState().utilsinfo.loading) {\n        message_open(React.createElement(React.Fragment, null, \"\\uBAA8\\uB450 \\uBCF4\\uAE30\\uC5D0 \\uC2E4\\uD328\\uD588\\uC2B5\\uB2C8\\uB2E4.\", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 479\n          },\n          __self: this\n        }), \"\\uC7A0\\uC2DC \\uD6C4 \\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD574\\uC8FC\\uC138\\uC694.\"))(dispatch, getState);\n        Router.back();\n        set_loading(false)(dispatch, getState);\n      }\n    }, 14000);\n\n    if (!extention_doctor_list || extention_doctor_list.length <= 0) {\n      response = await getAPIAsync(id, option);\n      if (response) response.data.list_doctor.list = response.data.list_doctor.list.slice(option.offset, option.limit);else {\n        set_loading(false)(dispatch, getState);\n      }\n    } else {\n      response.data.list_doctor.list = extention_doctor_list.slice(option.offset, option.limit);\n    }\n\n    set_loading(false)(dispatch, getState); // 불필요한 병원 정보 초기화\n\n    set_hospital_list({\n      data: {\n        list_hospital: {\n          list: [],\n          cnt_hospital: 0\n        }\n      }\n    })(dispatch, getState); // 의사 리스트\n\n    if (response) {\n      set_doctor_list(response)(dispatch, getState);\n      dispatch({\n        type: \"SET_CNT_TOTAL\",\n        payload: {\n          cnt_total: response.data.list_doctor.cnt_doctor,\n          is_local_filter: true\n        }\n      });\n    }\n  };\n}\nexport function more_search_doctor_list(options) {\n  return async (dispatch, getState) => {\n    set_loading(true)(dispatch, getState);\n    let id = Router.query.hospital_id;\n    let option = {\n      offset: options ? options.offset : 0,\n      limit: options ? options.limit : 50\n    };\n    let response;\n    let extention_doctor_list = getState().hospitalinfo.extention_doctor_list;\n    response = {\n      data: {\n        list_doctor: {\n          list: null,\n          cnt_doctor: null\n        }\n      }\n    };\n\n    if (!extention_doctor_list || extention_doctor_list.length <= 0) {\n      response = await getAPIAsync(id, option); // console.log(response);\n\n      response.data.list_doctor.list = response.data.list_doctor.list.slice(option.offset, option.limit);\n    } else {\n      response.data.list_doctor.list = extention_doctor_list.slice(option.offset, option.limit);\n    }\n\n    getAPI2(id, option).then(response => {\n      const data = response.data; // console.log(response);\n      // 불필요한 병원 정보 초기화\n\n      set_hospital_list({\n        data: {\n          list_hospital: {\n            list: [],\n            cnt_hospital: 0\n          }\n        }\n      })(dispatch, getState); // 의사 리스트\n\n      set_doctor_list(response, true)(dispatch, getState); // 총 리스트 건수 카운트\n\n      dispatch({\n        type: \"SET_CNT_TOTAL\",\n        payload: {\n          cnt_total: response.data.list_doctor.cnt_doctor,\n          is_local_filter: true\n        }\n      }); // redering deilay\n\n      setTimeout(() => {\n        set_loading(false)(dispatch, getState);\n      }, 1500);\n      set_loading(false)(dispatch, getState);\n    }).catch(err => {\n      // console.error(EXTENTION_HOSPITAL, err);\n      set_loading(false)(dispatch, getState);\n    }); // if (options && options.filterable) {\n    //     let filterable = `${options.filterable}`;\n    //     let first = parseInt(filterable[0]);\n    //     filterable = filterable.slice(1);\n    //     if (Boolean(first & 1)) {\n    //         let areas_id = parseInt(filterable.slice(0, 2));\n    //         console.log(areas_id);\n    //         let area = getState().searchinfo.areas.find(\n    //             x => x.id === areas_id\n    //         );\n    //         console.log(area);\n    //         area_filter_apply(area.name)(dispatch, getState);\n    //         filterable = filterable.slice(2);\n    //     }\n    //     if (Boolean(first & 2)) {\n    //         let depth = parseInt(options.filterable[0]);\n    //         let departments_id = parseInt(options.filterable.slice(1, 4));\n    //         let departments = {};\n    //         departments = getState().searchinfo.departments.find(\n    //             x => x.id === departments_id\n    //         );\n    //         department_filter_apply(options.area)(dispatch, getState);\n    //         filterable = filterable.slice(4);\n    //     }\n    //     if (Boolean(first & 4)) {\n    //         universitie_filter_apply(options.area)(dispatch, getState);\n    //     }\n    // }\n    // getAPI2(id, option)\n    //     .then(response => {\n    //         let res = response;\n    //         console.log(response);\n    //         if (options && options.area) {\n    //         }\n    //         set_doctor_list(res)(dispatch, getState);\n    //         set_hospital_list({\n    //             data: { list_hospital: { list: [], cnt_hospital: 0 } }\n    //         })(dispatch, getState);\n    //         dispatch({\n    //             type: \"SET_CNT_TOTAL\",\n    //             payload: {\n    //                 cnt_total: res.data.list_doctor.cnt_doctor,\n    //                 is_useFilter: false\n    //             }\n    //         });\n    //         set_loading(false)(dispatch, getState);\n    //     })\n    //     .catch(err => {\n    //         console.log(EXTENTION_HOSPITAL, err);\n    //         set_loading(false)(dispatch, getState);\n    //     });\n  };\n}\nexport default ((state = initialState, action) => {\n  switch (action.type) {\n    case SET_HOSPITAL_LIST:\n      return _objectSpread({}, state, {\n        list_hospital: action.payload.list_hospital,\n        cnt_hospital: action.payload.cnt_hospital,\n        offset: action.payload.list_hospital.length\n      });\n\n    case ADD_HOSPITAL_LIST:\n      if (action.payload.list_hospital) return _objectSpread({}, state, {\n        list_hospital: [...state.list_hospital, ...action.payload.list_hospital],\n        offset: state.list_hospital.length + action.payload.list_hospital.length\n      });else return _objectSpread({}, state, {\n        filter_hospital: [...state.filter_hospital, ...action.payload.filter_hospital_list],\n        offset: state.filter_hospital_list.length + action.payload.filter_hospital_list.length\n      });\n\n    case RMV_HOSPITAL_LIST:\n      return _objectSpread({}, state, {\n        list_hospital: [],\n        cnt_hospital: 0,\n        offset: 0\n      });\n\n    case SELECTED_HOSPITAL:\n      return _objectSpread({}, state, {\n        selected_hospital_id: action.payload.selected_hospital_id,\n        selected_state: \"try\"\n      });\n\n    case SELECTED_HOSPITAL_SUCCESS:\n      return _objectSpread({}, state, {\n        data: _objectSpread({}, state.data, action.payload.data),\n        selected_state: \"success\"\n      });\n\n    case SELECTED_HOSPITAL_FAILURE:\n      return _objectSpread({}, state, {\n        selected_state: \"failure\"\n      });\n\n    case EXTENTION_HOSPITAL:\n      return _objectSpread({}, state, {\n        extend_doctor_list: action.payload.extend_doctor_list,\n        extended_hospital_id: action.payload.extended_hospital_id\n      });\n\n    case HOSPITAL_AREA_FILTER_APPLY:\n      return _objectSpread({}, state, {\n        filter_hospital: action.payload.filter_hospital,\n        cnt_hospital_filter: action.payload.cnt_hospital_filter,\n        is_filter: {\n          area: true\n        }\n      });\n\n    case HOSPITAL_FILTER_CLEAR:\n      return _objectSpread({}, state, {\n        filter_hospital: {},\n        is_filter: {\n          area: false\n        },\n        offset: state.list_hospital.length\n      });\n\n    case HOSPITAL_REVIEW_LIST:\n      return _objectSpread({}, state, {\n        hospital_review_state: \"request\"\n      });\n\n    case HOSPITAL_REVIEW_LIST_SUCCESS:\n      return _objectSpread({}, state, {\n        hospital_review_list: action.payload.hospital_review_list,\n        hospital_review_state: \"success\"\n      });\n\n    case HOSPITAL_REVIEW_LIST_FAILURE:\n      return _objectSpread({}, state, {\n        hospital_review_state: \"failure\"\n      });\n\n    case GET_HOSPITAL_ALL_REVIEW:\n      return _objectSpread({}, state, {\n        data: _objectSpread({}, state.data, {\n          hospital_all_review: action.payload.data\n        })\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/daehankim/Documents/GitHub/blogshot/reducers/hospitalinfo.js"],"names":["SET_HOSPITAL_LIST","ADD_HOSPITAL_LIST","SELECTED_HOSPITAL","SELECTED_HOSPITAL_SUCCESS","SELECTED_HOSPITAL_FAILURE","EXTENTION_HOSPITAL","HOSPITAL_AREA_FILTER_APPLY","HOSPITAL_FILTER_CLEAR","HOSPITAL_REVIEW_LIST","HOSPITAL_REVIEW_LIST_SUCCESS","HOSPITAL_REVIEW_LIST_FAILURE","GET_HOSPITAL_ALL_REVIEW","RMV_HOSPITAL_LIST","axios","BASE_URL","API_TIME_OUT","Router","set_loading","set_message","message_open","message_close","set_kakao_logout","get_area_requset","get_medical_departments_requset","get_medical_universities_requset","set_doctor_list","area_filter_apply","doctor_area_filter_apply","department_filter_apply","universitie_filter_apply","errorExcute","initialState","list_hospital","filter_hospital","extend_doctor_list","extended_hospital_id","cnt_hospital","cnt_hospital_filter","is_filter","area","selected_hospital_id","data","selected_state","hospital_review_list","hospital_review_state","set_hospital_state","prams","dispatch","getState","hospitalState","setState","state","getAPI","id","exUrl","key","token","get","params","headers","timeout","getAPI2","options","getAPIAsync","response","getAPI3","type","types","loginkey","encodeForm","map","encodeURIComponent","join","post","url","put","delete","hospital_review_request","review_id","is_selected_hospital","jwt_token","kakaoinfo","login","localStorage","getItem","query","is_login","hospitalinfo","del","then","tryBol","utilsinfo","msg","this_hospital_data","payload","code","catch","err","req","get_hostpital_all_review","hospital_id","extantionsUrl","cb","status","set_hospital_list","more","list","filter_hospital_list","filter","x","juso","indexOf","text","length","filter_hospital_cnt","selected_hospital","setTimeout","remove_hospital_list","extention_doctor_list","option","offset","limit","arg","list_doctor","full_search_doctor_list","cnt_doctor","loading","back","slice","cnt_total","is_local_filter","more_search_doctor_list","action","hospital_all_review"],"mappings":"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","sourcesContent":["import {\n    SET_HOSPITAL_LIST,\n    ADD_HOSPITAL_LIST,\n    SELECTED_HOSPITAL,\n    SELECTED_HOSPITAL_SUCCESS,\n    SELECTED_HOSPITAL_FAILURE,\n    EXTENTION_HOSPITAL,\n    HOSPITAL_AREA_FILTER_APPLY,\n    HOSPITAL_FILTER_CLEAR,\n    HOSPITAL_REVIEW_LIST,\n    HOSPITAL_REVIEW_LIST_SUCCESS,\n    HOSPITAL_REVIEW_LIST_FAILURE,\n    GET_HOSPITAL_ALL_REVIEW,\n    RMV_HOSPITAL_LIST\n} from \"../actions/types\";\nimport axios from \"axios\";\nimport { BASE_URL, API_TIME_OUT } from \"../contants/constants\";\nimport Router from \"next/router\";\n\nimport {\n    set_loading,\n    set_message,\n    message_open,\n    message_close\n} from \"./utilsinfo\";\nimport { set_kakao_logout } from \"./kakaoinfo\";\nimport {\n    get_area_requset,\n    get_medical_departments_requset,\n    get_medical_universities_requset\n} from \"./searchinfo\";\nimport {\n    set_doctor_list,\n    area_filter_apply as doctor_area_filter_apply,\n    department_filter_apply,\n    universitie_filter_apply\n} from \"./doctorinfo\";\n\nimport { errorExcute } from \"../logic/errorLogic\";\n\nconst initialState = {\n    list_hospital: [],\n    filter_hospital: [],\n    extend_doctor_list: [],\n    extended_hospital_id: null,\n    cnt_hospital: 0,\n    cnt_hospital_filter: 0,\n    is_filter: { area: false },\n    selected_hospital_id: null,\n    data: {},\n    selected_state: \"wait\", // success, failure, wait, try,\n    // extention_hospital_id:\n\n    hospital_review_list: [],\n    hospital_review_state: \"stay\"\n};\n\nexport function set_hospital_state(prams) {\n    return (dispatch, getState) => {};\n}\nexport const hospitalState = {\n    setState: set_hospital_state,\n    state: initialState\n};\nfunction getAPI(id, exUrl, key, token) {\n    return axios.get(`https://${BASE_URL}/hospital/${id}${exUrl || \"\"}`, {\n        params: { token },\n        headers: token\n            ? {}\n            : {\n                  // 요청 헤더\n                  \"X-Api-Key\": key\n              },\n        timeout: API_TIME_OUT / 2 // 15초 이내에 응답이 오지 않으면 에러로 간주\n    });\n}\nfunction getAPI2(id, options) {\n    return axios.get(`https://${BASE_URL}/search/doctors/in_hospital/${id}`, {\n        params: options,\n        headers: {\n            // 요청 헤더\n        },\n        timeout: API_TIME_OUT / 2 // 15초 이내에 응답이 오지 않으면 에러로 간주\n    });\n}\nfunction getAPIAsync(id, options) {\n    let response;\n    response = axios.get(\n        `https://${BASE_URL}/search/doctors/in_hospital/${id}`,\n        {\n            params: options,\n            headers: {\n                // 요청 헤더\n            },\n            timeout: API_TIME_OUT / 2 // 15초 이내에 응답이 오지 않으면 에러로 간주\n        }\n    );\n\n    return response;\n}\nconst getAPI3 = (type, types, loginkey, token) => {\n    const encodeForm = data => {\n        return Object.keys(data)\n            .map(\n                key =>\n                    encodeURIComponent(key) +\n                    \"=\" +\n                    encodeURIComponent(data[key])\n            )\n            .join(\"&\");\n    };\n    if (type == \"post\") {\n        return axios.post(\n            `https://${BASE_URL}/my/review${types[type].url}`,\n            encodeForm(types[type].data),\n            {\n                params: { token },\n                headers: token\n                    ? {}\n                    : {\n                          // 요청 헤더\n                          \"X-Api-Key\": loginkey\n                      },\n                timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n            }\n        );\n    } else if (type == \"put\")\n        return axios.put(\n            `https://${BASE_URL}/my/review${types[type].url}`,\n            encodeForm(types[type].data),\n            {\n                params: { token },\n                headers: token\n                    ? {}\n                    : {\n                          // 요청 헤더\n                          \"X-Api-Key\": loginkey\n                      },\n                timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n            }\n        );\n    else if (type == \"del\")\n        return axios.delete(`https://${BASE_URL}/my/review${types[type]}`, {\n            params: { token },\n            headers: token\n                ? {}\n                : {\n                      // 요청 헤더\n                      \"X-Api-Key\": loginkey\n                  },\n            timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n        });\n    return axios.get(`https://${BASE_URL}/my/review/hospital/getAll`, {\n        params: { token },\n        headers: token\n            ? {}\n            : {\n                  // 요청 헤더\n                  \"X-Api-Key\": loginkey\n              },\n        timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n    });\n};\n\nexport const hospital_review_request = (\n    type,\n    review_id,\n    data,\n    is_selected_hospital = true\n) => {\n    return (dispatch, getState) => {\n        let jwt_token;\n        if (getState().kakaoinfo.login)\n            jwt_token =\n                getState().kakaoinfo.login.jwt_token ||\n                localStorage.getItem(\"jwt_token\");\n        let token;\n        if (Router.query.token && !getState().kakaoinfo.is_login)\n            token = Router.query.token;\n\n        set_loading(true)(dispatch, getState);\n        const types = {\n            get: \"/hospital/getAll\",\n            post: {\n                url: `/hospital/${getState().hospitalinfo.data.id}`,\n                data: data\n            },\n            put: { url: `/h/${review_id || \"\"}`, data: data },\n            del: `/h/${review_id || \"\"}`\n        };\n        dispatch({ type: HOSPITAL_REVIEW_LIST });\n        getAPI3(type, types, jwt_token, token)\n            .then(response => {\n                let tryBol = true;\n                // console.log(HOSPITAL_REVIEW_LIST_SUCCESS, type, response);\n                if (type == \"get\") {\n                    set_loading(false)(dispatch, getState);\n                    if (getState().utilsinfo.msg !== \"\")\n                        message_open()(dispatch, getState);\n                    let this_hospital_data = response.data;\n\n                    dispatch({\n                        type: HOSPITAL_REVIEW_LIST_SUCCESS,\n                        payload: {\n                            hospital_review_list: this_hospital_data\n                        }\n                    });\n                } else if (type == \"post\") {\n                    if (response.data.code === 0) {\n                        set_message(\"소중한 리뷰 감사드립니다!\")(\n                            dispatch,\n                            getState\n                        );\n                        tryBol = true;\n                    } else {\n                        set_message(response.data.msg)(dispatch, getState);\n                        tryBol = false;\n                    }\n                    hospital_review_request(\"get\")(dispatch, getState);\n                } else if (type == \"put\") {\n                    if (response.data.code === 0) {\n                        set_message(\"리뷰가 수정되었습니다!\")(\n                            dispatch,\n                            getState\n                        );\n                        tryBol = true;\n                    } else {\n                        set_message(response.data.msg)(dispatch, getState);\n                        tryBol = false;\n                    }\n                    hospital_review_request(\"get\")(dispatch, getState);\n                } else if (type == \"del\") {\n                    if (response.data.code === 0) {\n                        set_message(\"리뷰가 삭제되었습니다!\")(\n                            dispatch,\n                            getState\n                        );\n                        tryBol = true;\n                    } else {\n                        set_message(response.data.msg)(dispatch, getState);\n                        tryBol = false;\n                    }\n                    hospital_review_request(\"get\")(dispatch, getState);\n                }\n                return tryBol;\n            })\n            .catch((err, req) => {\n                // console.error(HOSPITAL_REVIEW_LIST_FAILURE, err, req);\n                dispatch({ type: HOSPITAL_REVIEW_LIST_FAILURE });\n                set_loading(false)(dispatch, getState);\n                if (type === \"get\") {\n                    message_open(\"리뷰 가져오기에 실패했습니다.\")(\n                        dispatch,\n                        getState\n                    );\n                }\n                if (type === \"post\") {\n                    message_open(\"리뷰 등록하기에 실패했습니다.\")(\n                        dispatch,\n                        getState\n                    );\n                }\n                if (type === \"del\") {\n                    message_open(\"리뷰 삭제하기에 실패했습니다.\")(\n                        dispatch,\n                        getState\n                    );\n                }\n                if (type === \"put\") {\n                    message_open(\"리뷰 수정하기에 실패했습니다.\")(\n                        dispatch,\n                        getState\n                    );\n                }\n            });\n    };\n};\nexport const get_hostpital_all_review = hospital_id => {\n    return (dispatch, getState) => {\n        let jwt_token;\n        if (getState().kakaoinfo.login)\n            jwt_token = getState().kakaoinfo.login.jwt_token;\n        let token;\n        if (Router.query.token && !getState().kakaoinfo.is_login)\n            token = Router.query.token;\n        const extantionsUrl = \"/review\";\n        getAPI(hospital_id, extantionsUrl, jwt_token, token)\n            .then(response => {\n                // console.log(GET_HOSPITAL_ALL_REVIEW + \"_SUCCESS\", response);\n                dispatch({\n                    type: GET_HOSPITAL_ALL_REVIEW,\n                    payload: { data: response.data }\n                });\n            })\n            .catch(err => {\n                // console.error(GET_HOSPITAL_ALL_REVIEW + \"_FAILURE\", err);\n                if (err.response) {\n                    let cb;\n                    let params;\n\n                    if (err.response === 403)\n                        cb = () => {\n                            set_kakao_logout(jwt_token)(dispatch, getState);\n                        };\n                    errorExcute(err.response.status, params, cb);\n                }\n            });\n    };\n};\nexport function set_hospital_list(response, more) {\n    return (dispatch, getState) => {\n        const list_hospital = response.data.list_hospital.list;\n        const cnt_hospital = response.data.list_hospital.cnt_hospital;\n        const is_filter = getState().hospitalinfo.is_filter.area;\n\n        if (!more) {\n            dispatch({\n                type: SET_HOSPITAL_LIST,\n                payload: {\n                    list_hospital: list_hospital,\n                    cnt_hospital: cnt_hospital\n                }\n            });\n        } else {\n            if (is_filter) {\n                const filter_hospital_list = list_hospital.filter(x =>\n                    x.juso.indexOf(text) == 0 ? true : false\n                );\n                dispatch({\n                    type: ADD_HOSPITAL_LIST,\n                    payload: {\n                        filter_hospital_list: filter_hospital_list\n                    }\n                });\n            } else {\n                dispatch({\n                    type: ADD_HOSPITAL_LIST,\n                    payload: {\n                        list_hospital: response.data.list_hospital.list\n                    }\n                });\n            }\n        }\n    };\n}\n\nexport function area_filter_apply(text) {\n    return (dispatch, getState) => {\n        if (text.indexOf(\"전체\") == 0) return;\n        const list_hospital = getState().hospitalinfo.list_hospital;\n\n        if (!list_hospital || list_hospital.length <= 0) return;\n        //\n        const filter_hospital_list = list_hospital.filter(x =>\n            x.juso.indexOf(text) == 0 ? true : false\n        );\n        const filter_hospital_cnt = filter_hospital_list.length;\n\n        const filter_hospital = filter_hospital_list;\n\n        dispatch({\n            type: HOSPITAL_AREA_FILTER_APPLY,\n            payload: {\n                filter_hospital: filter_hospital,\n                cnt_hospital_filter: filter_hospital_cnt\n            }\n        });\n    };\n}\nexport function selected_hospital(id) {\n    return (dispatch, getState) => {\n        let jwt_token;\n        if (getState().kakaoinfo.login)\n            jwt_token = getState().kakaoinfo.login.jwt_token;\n\n        let token;\n        if (Router.query.token && !getState().kakaoinfo.is_login)\n            token = Router.query.token;\n\n        set_loading(true)(dispatch, getState);\n        dispatch({\n            type: SELECTED_HOSPITAL,\n            payload: { selected_hospital_id: id }\n        });\n        getAPI(id, null, jwt_token, token)\n            .then(response => {\n                const data = response.data;\n                // console.log(response);\n                dispatch({\n                    type: SELECTED_HOSPITAL_SUCCESS,\n                    payload: { data: data }\n                });\n                setTimeout(() => {\n                    set_loading(false)(dispatch, getState);\n                }, 1000);\n            })\n            .catch(err => {\n                // console.error(SELECTED_HOSPITAL_FAILURE, err);\n                if (err.response) {\n                    let cb;\n                    let params;\n\n                    if (err.response === 403)\n                        cb = () => {\n                            set_kakao_logout(jwt_token)(dispatch, getState);\n                        };\n\n                    errorExcute(err.response.status, params, cb);\n                }\n                dispatch({\n                    type: SELECTED_HOSPITAL_FAILURE\n                });\n                set_loading(false)(dispatch, getState);\n            });\n    };\n}\nexport function remove_hospital_list() {\n    return dispatch => {\n        dispatch({\n            type: RMV_HOSPITAL_LIST\n        });\n    };\n}\n\nexport function extention_doctor_list(id, options) {\n    return async (dispatch, getState) => {\n        let option = {\n            offset: options ? options.offset : 0,\n            limit: options ? options.limit : 5\n        };\n\n        set_loading(true)(dispatch, getState);\n        getAPI2(id, option)\n            .then(response => {\n                const data = response.data;\n                // console.log(response);\n                let arg = {\n                    type: EXTENTION_HOSPITAL,\n                    payload: {\n                        extend_doctor_list: data.list_doctor.list,\n                        extended_hospital_id: id\n                    }\n                };\n                dispatch(arg);\n                set_loading(false)(dispatch, getState);\n            })\n            .catch(err => {\n                // console.error(EXTENTION_HOSPITAL, err);\n                set_loading(false)(dispatch, getState);\n            });\n    };\n}\nexport function full_search_doctor_list(id, options) {\n    return async (dispatch, getState) => {\n        set_loading(true)(dispatch, getState);\n        let option = {\n            offset: options ? options.offset : 0,\n            limit: options ? options.limit : 50\n        };\n\n        let response;\n        let extention_doctor_list = getState().hospitalinfo\n            .extention_doctor_list;\n        response = {\n            data: {\n                list_doctor: {\n                    list: null,\n\n                    cnt_doctor: null\n                }\n            }\n        };\n        // redering deilay\n        setTimeout(() => {\n            if (getState().utilsinfo.loading) {\n                message_open(\n                    <>\n                        모두 보기에 실패했습니다.\n                        <br />\n                        잠시 후 다시 시도해주세요.\n                    </>\n                )(dispatch, getState);\n                Router.back();\n                set_loading(false)(dispatch, getState);\n            }\n        }, 14000);\n        if (!extention_doctor_list || extention_doctor_list.length <= 0) {\n            response = await getAPIAsync(id, option);\n            if (response)\n                response.data.list_doctor.list = response.data.list_doctor.list.slice(\n                    option.offset,\n                    option.limit\n                );\n            else {\n                set_loading(false)(dispatch, getState);\n            }\n        } else {\n            response.data.list_doctor.list = extention_doctor_list.slice(\n                option.offset,\n                option.limit\n            );\n        }\n\n        set_loading(false)(dispatch, getState);\n\n        // 불필요한 병원 정보 초기화\n        set_hospital_list({\n            data: {\n                list_hospital: {\n                    list: [],\n                    cnt_hospital: 0\n                }\n            }\n        })(dispatch, getState);\n\n        // 의사 리스트\n\n        if (response) {\n            set_doctor_list(response)(dispatch, getState);\n\n            dispatch({\n                type: \"SET_CNT_TOTAL\",\n                payload: {\n                    cnt_total: response.data.list_doctor.cnt_doctor,\n                    is_local_filter: true\n                }\n            });\n        }\n    };\n}\nexport function more_search_doctor_list(options) {\n    return async (dispatch, getState) => {\n        set_loading(true)(dispatch, getState);\n        let id = Router.query.hospital_id;\n\n        let option = {\n            offset: options ? options.offset : 0,\n            limit: options ? options.limit : 50\n        };\n\n        let response;\n        let extention_doctor_list = getState().hospitalinfo\n            .extention_doctor_list;\n        response = {\n            data: {\n                list_doctor: {\n                    list: null,\n\n                    cnt_doctor: null\n                }\n            }\n        };\n        if (!extention_doctor_list || extention_doctor_list.length <= 0) {\n            response = await getAPIAsync(id, option);\n            // console.log(response);\n            response.data.list_doctor.list = response.data.list_doctor.list.slice(\n                option.offset,\n                option.limit\n            );\n        } else {\n            response.data.list_doctor.list = extention_doctor_list.slice(\n                option.offset,\n                option.limit\n            );\n        }\n\n        getAPI2(id, option)\n            .then(response => {\n                const data = response.data;\n                // console.log(response);\n                // 불필요한 병원 정보 초기화\n                set_hospital_list({\n                    data: {\n                        list_hospital: {\n                            list: [],\n                            cnt_hospital: 0\n                        }\n                    }\n                })(dispatch, getState);\n\n                // 의사 리스트\n                set_doctor_list(response, true)(dispatch, getState);\n\n                // 총 리스트 건수 카운트\n                dispatch({\n                    type: \"SET_CNT_TOTAL\",\n                    payload: {\n                        cnt_total: response.data.list_doctor.cnt_doctor,\n                        is_local_filter: true\n                    }\n                });\n\n                // redering deilay\n                setTimeout(() => {\n                    set_loading(false)(dispatch, getState);\n                }, 1500);\n\n                set_loading(false)(dispatch, getState);\n            })\n            .catch(err => {\n                // console.error(EXTENTION_HOSPITAL, err);\n                set_loading(false)(dispatch, getState);\n            });\n\n        // if (options && options.filterable) {\n        //     let filterable = `${options.filterable}`;\n        //     let first = parseInt(filterable[0]);\n        //     filterable = filterable.slice(1);\n\n        //     if (Boolean(first & 1)) {\n        //         let areas_id = parseInt(filterable.slice(0, 2));\n        //         console.log(areas_id);\n        //         let area = getState().searchinfo.areas.find(\n        //             x => x.id === areas_id\n        //         );\n        //         console.log(area);\n        //         area_filter_apply(area.name)(dispatch, getState);\n\n        //         filterable = filterable.slice(2);\n        //     }\n        //     if (Boolean(first & 2)) {\n        //         let depth = parseInt(options.filterable[0]);\n        //         let departments_id = parseInt(options.filterable.slice(1, 4));\n        //         let departments = {};\n\n        //         departments = getState().searchinfo.departments.find(\n        //             x => x.id === departments_id\n        //         );\n\n        //         department_filter_apply(options.area)(dispatch, getState);\n\n        //         filterable = filterable.slice(4);\n        //     }\n        //     if (Boolean(first & 4)) {\n        //         universitie_filter_apply(options.area)(dispatch, getState);\n        //     }\n        // }\n        // getAPI2(id, option)\n        //     .then(response => {\n        //         let res = response;\n        //         console.log(response);\n\n        //         if (options && options.area) {\n        //         }\n\n        //         set_doctor_list(res)(dispatch, getState);\n        //         set_hospital_list({\n        //             data: { list_hospital: { list: [], cnt_hospital: 0 } }\n        //         })(dispatch, getState);\n        //         dispatch({\n        //             type: \"SET_CNT_TOTAL\",\n        //             payload: {\n        //                 cnt_total: res.data.list_doctor.cnt_doctor,\n        //                 is_useFilter: false\n        //             }\n        //         });\n        //         set_loading(false)(dispatch, getState);\n        //     })\n        //     .catch(err => {\n        //         console.log(EXTENTION_HOSPITAL, err);\n        //         set_loading(false)(dispatch, getState);\n        //     });\n    };\n}\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case SET_HOSPITAL_LIST:\n            return {\n                ...state,\n                list_hospital: action.payload.list_hospital,\n                cnt_hospital: action.payload.cnt_hospital,\n                offset: action.payload.list_hospital.length\n            };\n        case ADD_HOSPITAL_LIST:\n            if (action.payload.list_hospital)\n                return {\n                    ...state,\n                    list_hospital: [\n                        ...state.list_hospital,\n                        ...action.payload.list_hospital\n                    ],\n                    offset:\n                        state.list_hospital.length +\n                        action.payload.list_hospital.length\n                };\n            else\n                return {\n                    ...state,\n                    filter_hospital: [\n                        ...state.filter_hospital,\n                        ...action.payload.filter_hospital_list\n                    ],\n                    offset:\n                        state.filter_hospital_list.length +\n                        action.payload.filter_hospital_list.length\n                };\n        case RMV_HOSPITAL_LIST:\n            return {\n                ...state,\n                list_hospital: [],\n                cnt_hospital: 0,\n                offset: 0\n            };\n        case SELECTED_HOSPITAL:\n            return {\n                ...state,\n                selected_hospital_id: action.payload.selected_hospital_id,\n                selected_state: \"try\"\n            };\n        case SELECTED_HOSPITAL_SUCCESS:\n            return {\n                ...state,\n                data: { ...state.data, ...action.payload.data },\n                selected_state: \"success\"\n            };\n        case SELECTED_HOSPITAL_FAILURE:\n            return {\n                ...state,\n                selected_state: \"failure\"\n            };\n        case EXTENTION_HOSPITAL:\n            return {\n                ...state,\n                extend_doctor_list: action.payload.extend_doctor_list,\n                extended_hospital_id: action.payload.extended_hospital_id\n            };\n        case HOSPITAL_AREA_FILTER_APPLY:\n            return {\n                ...state,\n                filter_hospital: action.payload.filter_hospital,\n                cnt_hospital_filter: action.payload.cnt_hospital_filter,\n                is_filter: {\n                    area: true\n                }\n            };\n        case HOSPITAL_FILTER_CLEAR:\n            return {\n                ...state,\n                filter_hospital: {},\n                is_filter: {\n                    area: false\n                },\n                offset: state.list_hospital.length\n            };\n        case HOSPITAL_REVIEW_LIST:\n            return {\n                ...state,\n                hospital_review_state: \"request\"\n            };\n        case HOSPITAL_REVIEW_LIST_SUCCESS:\n            return {\n                ...state,\n                hospital_review_list: action.payload.hospital_review_list,\n                hospital_review_state: \"success\"\n            };\n        case HOSPITAL_REVIEW_LIST_FAILURE:\n            return {\n                ...state,\n                hospital_review_state: \"failure\"\n            };\n        case GET_HOSPITAL_ALL_REVIEW:\n            return {\n                ...state,\n                data: {\n                    ...state.data,\n                    hospital_all_review: action.payload.data\n                }\n            };\n        default:\n            return state;\n    }\n};\n"]},"metadata":{},"sourceType":"module"}