{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/daehankim/Documents/GitHub/blogshot/components/popup/ErrorPopup.js\";\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    && {\\n        background-color: \", \";\\n        color: \", \";\\n        width: 100%;\\n        max-width: 126px;\\n        height: 35px;\\n        border: 1px solid rgb(41 41 41);\\n        display: inline-block;\\n    }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    && {\\n        font-size: \", \";\\n        line-height: \", \"px;\\n        letter-spacing: 0;\\n        text-align: left;\\n        margin: \", \";\\n    }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    && {\\n        text-align: center;\\n        padding: \", \" \", \";\\n    }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    && {\\n        position: absolute;\\n        background-color: \", \";\\n        box-shadow: \", \";\\n        outline: \\\"none\\\";\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport styled from \"styled-components\";\nimport { Button as B, Typography } from \"@material-ui/core\";\nimport Layout from \"../layouts/PopupLayout\";\nimport { pTr, pInt } from \"../../styles/typography\";\nimport { error_close, set_loading } from \"../../reducers/utilsinfo\";\nimport theme from \"../../theme\";\nimport { useRouter } from \"next/router\";\n\nfunction getModalStyle() {\n  var top = 50;\n  var left = 50;\n  return {\n    top: \"\".concat(top, \"%\"),\n    left: \"\".concat(left, \"%\"),\n    transform: \"translate(-\".concat(top, \"%, -\").concat(left, \"%)\"),\n    // height: pTr(568)\n    width: pTr(299),\n    borderRadius: pTr(6)\n  };\n} //#region\n\n\nvar PaperStyle = styled.div(_templateObject(), theme.palette.background.paper, theme.shadows[0]);\nvar Content = styled.div(_templateObject2(), pTr(10), pTr(10));\nvar Body = styled(Typography)(_templateObject3(), pTr(18), pInt(24), pTr(30));\nvar Button = styled(B)(_templateObject4(), function (props) {\n  return props.color;\n}, function (props) {\n  return props.color == \"black\" ? \"white\" : \"black\";\n});\nvar thispath;\n\nvar ErrorPopup = function ErrorPopup(props) {\n  var bodyProps = props.bodyProps,\n      onClose = props.onClose,\n      is_error = props.is_error,\n      errorObj = props.errorObj,\n      error_close = props.error_close;\n  var router = useRouter();\n  useEffect(function () {\n    if (!thispath) thispath = router.pathname;else if (thispath != router.pathname) {\n      error_close();\n      onClose();\n    }\n  }, [router.pathname]);\n  useEffect(function () {\n    if (!is_error) {\n      onClose();\n    }\n  }, [is_error]);\n  return React.createElement(PaperStyle, {\n    style: getModalStyle(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(Content, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(Body, _extends({}, bodyProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), errorObj.msg), React.createElement(Button, {\n    color: \"white\",\n    onClick: function onClick() {\n      error_close();\n      onClose();\n      props.set_loading(true);\n      router.push(\"/\")[\"finally\"](function (x) {\n        props.set_loading(false);\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, errorObj.cancel), React.createElement(\"span\", {\n    style: {\n      paddingLeft: \"7px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(Button, {\n    color: \"black\",\n    onClick: function onClick() {\n      error_close();\n      onClose();\n      router.reload();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, errorObj.ok)));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    is_error: state.utilsinfo.is_error,\n    errorObj: state.utilsinfo.errorObj\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    error_close: error_close,\n    set_loading: set_loading\n  }, dispatch);\n};\n\nvar ErrorPopupConnect = connect(mapStateToProps, mapDispatchToProps)(ErrorPopup);\nexport default function Index(props) {\n  var open = props.open,\n      onClose = props.onClose,\n      others = _objectWithoutProperties(props, [\"open\", \"onClose\"]);\n\n  return React.createElement(Layout, _extends({\n    open: open,\n    handleClose: onClose,\n    content: ErrorPopupConnect\n  }, others, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/Users/daehankim/Documents/GitHub/blogshot/components/popup/ErrorPopup.js"],"names":["React","useRef","useState","useEffect","connect","bindActionCreators","styled","Button","B","Typography","Layout","pTr","pInt","error_close","set_loading","theme","useRouter","getModalStyle","top","left","transform","width","borderRadius","PaperStyle","div","palette","background","paper","shadows","Content","Body","props","color","thispath","ErrorPopup","bodyProps","onClose","is_error","errorObj","router","pathname","msg","push","x","cancel","paddingLeft","reload","ok","mapStateToProps","state","utilsinfo","mapDispatchToProps","dispatch","ErrorPopupConnect","Index","open","others"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\n\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport styled from \"styled-components\";\n\nimport { Button as B, Typography } from \"@material-ui/core\";\n\nimport Layout from \"../layouts/PopupLayout\";\nimport { pTr, pInt } from \"../../styles/typography\";\n\nimport { error_close, set_loading } from \"../../reducers/utilsinfo\";\n\nimport theme from \"../../theme\";\nimport { useRouter } from \"next/router\";\n\nfunction getModalStyle() {\n    const top = 50;\n    const left = 50;\n\n    return {\n        top: `${top}%`,\n        left: `${left}%`,\n        transform: `translate(-${top}%, -${left}%)`,\n        // height: pTr(568)\n        width: pTr(299),\n        borderRadius: pTr(6)\n    };\n}\n\n//#region\nconst PaperStyle = styled.div`\n    && {\n        position: absolute;\n        background-color: ${theme.palette.background.paper};\n        box-shadow: ${theme.shadows[0]};\n        outline: \"none\";\n    }\n`;\nconst Content = styled.div`\n    && {\n        text-align: center;\n        padding: ${pTr(10)} ${pTr(10)};\n    }\n`;\nconst Body = styled(Typography)`\n    && {\n        font-size: ${pTr(18)};\n        line-height: ${pInt(24)}px;\n        letter-spacing: 0;\n        text-align: left;\n        margin: ${pTr(30)};\n    }\n`;\nconst Button = styled(B)`\n    && {\n        background-color: ${props => props.color};\n        color: ${props => (props.color == \"black\" ? \"white\" : \"black\")};\n        width: 100%;\n        max-width: 126px;\n        height: 35px;\n        border: 1px solid rgb(41 41 41);\n        display: inline-block;\n    }\n`;\nlet thispath;\nconst ErrorPopup = props => {\n    const { bodyProps, onClose, is_error, errorObj, error_close } = props;\n    const router = useRouter();\n    useEffect(() => {\n        if (!thispath) thispath = router.pathname;\n        else if (thispath != router.pathname) {\n            error_close();\n            onClose();\n        }\n    }, [router.pathname]);\n    useEffect(() => {\n        if (!is_error) {\n            onClose();\n        }\n    }, [is_error]);\n    return (\n        <PaperStyle style={getModalStyle()}>\n            <Content>\n                <Body {...bodyProps}>{errorObj.msg}</Body>\n                <Button\n                    color=\"white\"\n                    onClick={() => {\n                        error_close();\n                        onClose();\n                        props.set_loading(true);\n                        router.push(\"/\").finally(x => {\n                            props.set_loading(false);\n                        });\n                    }}\n                >\n                    {errorObj.cancel}\n                </Button>\n                <span style={{ paddingLeft: \"7px\" }}></span>\n                <Button\n                    color=\"black\"\n                    onClick={() => {\n                        error_close();\n                        onClose();\n                        router.reload();\n                    }}\n                >\n                    {errorObj.ok}\n                </Button>\n            </Content>\n        </PaperStyle>\n    );\n};\nconst mapStateToProps = state => {\n    return {\n        is_error: state.utilsinfo.is_error,\n        errorObj: state.utilsinfo.errorObj\n    };\n};\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({ error_close, set_loading }, dispatch);\n\nconst ErrorPopupConnect = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ErrorPopup);\n\nexport default function Index(props) {\n    const { open, onClose, ...others } = props;\n    return (\n        <Layout\n            open={open}\n            handleClose={onClose}\n            content={ErrorPopupConnect}\n            {...others}\n        />\n    );\n}\n"]},"metadata":{},"sourceType":"module"}