{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { SET_DOCTOR_LIST, ADD_DOCTOR_LIST, RMV_DOCTOR_LIST, SELECTED_DOCTOR, SELECTED_DOCTOR_SUCCESS, SELECTED_DOCTOR_FAILURE, DOCTOR_AREA_FILTER_APPLY, DEPARTMENT_FILTER_APPLY, UNIVERSITIE_FILTER_APPLY, DOCTOR_FILTER_CLEAR, DOCTOR_REVIEW_LIST, DOCTOR_REVIEW_LIST_SUCCESS, DOCTOR_REVIEW_LIST_FAILURE, GET_DOCTOR_ALL_REVIEW, ADD_DOCTOR_PAPERS } from \"../actions/types\";\nimport { set_kakao_logout } from \"./kakaoinfo\";\nimport Router from \"next/router\";\nimport { set_loading, message_open, set_message } from \"./utilsinfo\";\nimport { BASE_URL, API_TIME_OUT } from \"../contants/constants\";\nimport axios from \"axios\";\nimport { errorExcute } from \"../logic/errorLogic\";\n\nfunction getAPI(id, searchText, score_searchText, key, token) {\n  return axios.get(`https://${BASE_URL}/doctor/${id}`, {\n    params: {\n      searchText,\n      score_searchText,\n      token\n    },\n    headers: token ? {} : {\n      // 요청 헤더\n      \"X-Api-Key\": key\n    },\n    timeout: API_TIME_OUT / 2 // 15초 이내에 응답이 오지 않으면 에러로 간주\n\n  });\n}\n\nfunction getReviewAllAPI(id, exUrl, key, token) {\n  return axios.get(`https://${BASE_URL}/doctor/${id}${exUrl || \"\"}`, {\n    params: {\n      token\n    },\n    headers: token ? {} : {\n      // 요청 헤더\n      \"X-Api-Key\": key\n    },\n    timeout: API_TIME_OUT / 2 // 15초 이내에 응답이 오지 않으면 에러로 간주\n\n  });\n}\n\nfunction getAPIEx(id, exUrl, key, data) {\n  return axios.get(`https://${BASE_URL}/doctor/${id}${exUrl || \"\"}`, {\n    params: data,\n    headers: {\n      // 요청 헤더\n      \"X-Api-Key\": key\n    },\n    timeout: API_TIME_OUT / 2 // 15초 이내에 응답이 오지 않으면 에러로 간주\n\n  });\n}\n\nconst getReviewAPI = (type, types, loginkey, token) => {\n  const encodeForm = data => {\n    return Object.keys(data).map(key => encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key])).join(\"&\");\n  };\n\n  if (type == \"post\") {\n    return axios.post(`https://${BASE_URL}/my/review${types[type].url}`, encodeForm(types[type].data), {\n      params: {\n        token\n      },\n      headers: token ? {} : {\n        // 요청 헤더\n        \"X-Api-Key\": loginkey\n      },\n      timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n\n    });\n  } else if (type == \"put\") return axios.put(`https://${BASE_URL}/my/review${types[type].url}`, encodeForm(types[type].data), {\n    params: {\n      token\n    },\n    headers: token ? {} : {\n      // 요청 헤더\n      \"X-Api-Key\": loginkey\n    },\n    timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n\n  });else if (type == \"del\") return axios.delete(`https://${BASE_URL}/my/review${types[type]}`, {\n    params: {\n      token\n    },\n    headers: token ? {} : {\n      // 요청 헤더\n      \"X-Api-Key\": loginkey\n    },\n    timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n\n  });\n\n  return axios.get(`https://${BASE_URL}/my/review/doctor/getAll`, {\n    params: {\n      token\n    },\n    headers: token ? {} : {\n      // 요청 헤더\n      \"X-Api-Key\": loginkey\n    },\n    timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n\n  });\n};\n\nconst initialState = {\n  list_doctor: [],\n  filter_doctor: [],\n  is_filter: {\n    area: false,\n    department: false,\n    universitie: false\n  },\n  value_filter: {\n    area: null,\n    department: null,\n    universitie: null\n  },\n  cnt_doctor: 0,\n  offset: 0,\n  cnt_doctor_filter: 0,\n  selected_doctor_id: 0,\n  data: {},\n  selected_state: \"wait\",\n  // success, failure, wait, try,\n  review_data: {},\n  doctor_review_list: [],\n  doctor_review_state: \"stay\"\n};\nexport const doctor_review_request = (type, review_id, data, is_selected_doctor = true) => {\n  return (dispatch, getState) => {\n    let jwt_token;\n    if (getState().kakaoinfo.login) jwt_token = getState().kakaoinfo.login.jwt_token || localStorage.getItem(\"jwt_token\");\n    let token;\n    if (Router.query.token && !getState().kakaoinfo.is_login) token = Router.query.token; // set_loading(true)(dispatch, getState);\n\n    const types = {\n      get: \"/doctor/getAll\",\n      post: {\n        url: `/doctor/${getState().doctorinfo.data.id}`,\n        data: data\n      },\n      put: {\n        url: `/d/${review_id || \"\"}`,\n        data: data\n      },\n      del: `/d/${review_id || \"\"}`\n    };\n    dispatch({\n      type: DOCTOR_REVIEW_LIST\n    });\n    getReviewAPI(type, types, jwt_token, token).then(response => {\n      if (type == \"get\") {\n        if (getState().utilsinfo.msg !== \"\") message_open()(dispatch, getState);\n        let this_doctor_data = response.data;\n        if (!this_doctor_data.code) dispatch({\n          type: DOCTOR_REVIEW_LIST_SUCCESS,\n          payload: {\n            doctor_review_list: this_doctor_data\n          }\n        });\n        if (is_selected_doctor) get_doctor_all_review(getState().doctorinfo.data.id)(dispatch, getState);\n      } else if (type == \"post\") {\n        if (response.data.code === 0) {\n          set_message(\"소중한 리뷰 감사드립니다!\")(dispatch, getState);\n        } else {\n          set_message(response.data.msg)(dispatch, getState);\n        }\n\n        doctor_review_request(\"get\")(dispatch, getState);\n        set_loading(false)(dispatch, getState);\n      } else if (type == \"put\") {\n        if (response.data.code === 0) {\n          set_message(\"리뷰가 수정되었습니다!\")(dispatch, getState);\n        } else {\n          set_message(response.data.msg)(dispatch, getState);\n        }\n\n        doctor_review_request(\"get\")(dispatch, getState);\n        set_loading(false)(dispatch, getState);\n      } else if (type == \"del\") {\n        if (response.data.code === 0) {\n          set_message(\"리뷰가 삭제되었습니다!\")(dispatch, getState);\n        } else {\n          set_message(response.data.msg)(dispatch, getState);\n        }\n\n        doctor_review_request(\"get\")(dispatch, getState);\n        set_loading(false)(dispatch, getState);\n      }\n    }).catch((err, req) => {\n      // console.log(DOCTOR_REVIEW_LIST_FAILURE, err, req);\n      dispatch({\n        type: DOCTOR_REVIEW_LIST_FAILURE\n      });\n      set_loading(false)(dispatch, getState);\n\n      if (type === \"get\") {\n        message_open(\"리뷰 가져오기에 실패했습니다.\")(dispatch, getState);\n      }\n\n      if (type === \"post\") {\n        message_open(\"리뷰 등록하기에 실패했습니다.\")(dispatch, getState);\n      }\n\n      if (type === \"del\") {\n        message_open(\"리뷰 삭제하기에 실패했습니다.\")(dispatch, getState);\n      }\n\n      if (type === \"put\") {\n        message_open(\"리뷰 수정하기에 실패했습니다.\")(dispatch, getState);\n      }\n    });\n  };\n};\nexport const get_doctor_all_review = doctor_id => {\n  return (dispatch, getState) => {\n    const extantionsUrl = \"/review\";\n    let jwt_token;\n    if (getState().kakaoinfo.login) jwt_token = getState().kakaoinfo.login.jwt_token;\n    let token;\n    if (Router.query.token && !getState().kakaoinfo.is_login) token = Router.query.token;\n    getReviewAllAPI(doctor_id, extantionsUrl, jwt_token, token).then(response => {\n      // console.log(GET_DOCTOR_ALL_REVIEW + \"_SUCCESS\", response);\n      dispatch({\n        type: GET_DOCTOR_ALL_REVIEW,\n        payload: {\n          data: response.data\n        }\n      });\n      set_loading(false);\n    }).catch(err => {\n      // console.error(GET_DOCTOR_ALL_REVIEW + \"_FAILURE\", err);\n      if (err.response) {\n        let cb;\n        let params;\n        if (err.response === 403) cb = () => {\n          set_kakao_logout(jwt_token)(dispatch, getState);\n        };\n        errorExcute(err.response.status, params, cb);\n      }\n    });\n  };\n};\nexport const isFilter = is_filter => {\n  if (is_filter.area || is_filter.department || is_filter.universitie) {\n    return true;\n  }\n\n  return false;\n};\n\nconst filter_logic = (list, is_filter, values) => {\n  let filterData = [];\n\n  if (is_filter.area && values.area) {\n    filterData = list.filter(x => x.current_hospital_juso_short.indexOf(values.area) == 0 ? true : false);\n  }\n\n  if (is_filter.department && values.department) {\n    filterData = list.filter(x => x.clinic.indexOf(values.department.depth1) == 0 || x.clinic.indexOf(values.department.depth2) == 0 ? true : false);\n  }\n\n  if (is_filter.universitie && values.universitie) {\n    filterData = list.filter(x => x.study_last.indexOf(values.universitie) == 0 ? true : false);\n  }\n\n  return filterData;\n};\n\nexport function area_filter_apply(text) {\n  return (dispatch, getState) => {\n    if (text.indexOf(\"전체\") == 0) return;\n    const is_filter = getState().doctorinfo.is_filter;\n    const list_doctor = !is_filter.area && !is_filter.department && !is_filter.universitie ? getState().doctorinfo.list_doctor : getState().doctorinfo.filter_doctor;\n    if (!list_doctor || list_doctor.length <= 0) return; //\n\n    const filter_doctor_list = list_doctor.filter(x => x.current_hospital_juso_short.indexOf(text) == 0 ? true : false);\n    const filter_doctor_cnt = filter_doctor_list.length;\n    const filter_doctor = filter_doctor_list;\n    dispatch({\n      type: DOCTOR_AREA_FILTER_APPLY,\n      payload: {\n        filter_doctor: filter_doctor,\n        cnt_doctor_filter: filter_doctor_cnt,\n        value: text\n      }\n    });\n  };\n}\nexport function department_filter_apply(param) {\n  return (dispatch, getState) => {\n    if (param.depth1 && param.depth1.indexOf(\"전체\") == 0 || param.depth2 && param.depth2.indexOf(\"선택\") == 0) return;\n    const is_filter = getState().doctorinfo.is_filter;\n    const list_doctor = !is_filter.area && !is_filter.department && !is_filter.universitie ? getState().doctorinfo.list_doctor : getState().doctorinfo.filter_doctor;\n    if (!list_doctor || list_doctor.length <= 0) return; //\n\n    const filter_doctor_list = list_doctor.filter(x => x.clinic.indexOf(param.depth1) == 0 || x.clinic.indexOf(param.depth2) == 0 ? true : false);\n    const filter_doctor_cnt = filter_doctor_list.length;\n    const filter_doctor = filter_doctor_list;\n    dispatch({\n      type: DEPARTMENT_FILTER_APPLY,\n      payload: {\n        filter_doctor: filter_doctor,\n        cnt_doctor_filter: filter_doctor_cnt,\n        value: param\n      }\n    });\n  };\n}\nexport function universitie_filter_apply(text) {\n  return (dispatch, getState) => {\n    const is_filter = getState().doctorinfo.is_filter;\n    const list_doctor = !is_filter.area && !is_filter.department && !is_filter.universitie ? getState().doctorinfo.list_doctor : getState().doctorinfo.filter_doctor;\n    if (!list_doctor || list_doctor.length <= 0) return; //\n\n    const filter_doctor_list = list_doctor.filter(x => x.study_last.indexOf(text) == 0 ? true : false);\n    const filter_doctor_cnt = filter_doctor_list.length;\n    const filter_doctor = filter_doctor_list;\n    dispatch({\n      type: UNIVERSITIE_FILTER_APPLY,\n      payload: {\n        filter_doctor: filter_doctor,\n        cnt_doctor_filter: filter_doctor_cnt,\n        value: text\n      }\n    });\n  };\n}\nexport function set_doctor_list(response, more) {\n  return (dispatch, getState) => {\n    const list_doctor = response.data.list_doctor.list;\n    const cnt_doctor = response.data.list_doctor.cnt_doctor;\n    const is_filter = getState().doctorinfo.is_filter;\n\n    if (!more) {\n      dispatch({\n        type: SET_DOCTOR_LIST,\n        payload: {\n          list_doctor: list_doctor,\n          cnt_doctor: cnt_doctor\n        }\n      });\n    } else {\n      if (isFilter(is_filter)) {\n        const filter_doctor_list = filter_logic(list_doctor, is_filter, getState().doctorinfo.value_filter);\n        dispatch({\n          type: ADD_DOCTOR_LIST,\n          payload: {\n            filter_doctor_list: filter_doctor_list\n          }\n        });\n      } else {\n        dispatch({\n          type: ADD_DOCTOR_LIST,\n          payload: {\n            list_doctor: list_doctor\n          }\n        });\n      }\n    }\n  };\n}\nexport function remove_doctor_list() {\n  return (dispatch, getState) => {\n    dispatch({\n      type: RMV_DOCTOR_LIST\n    });\n  };\n}\nexport const get_doctor_papers = (doctor_id, searchText) => {\n  return async (dispatch, getState) => {\n    const extantionsUrl = \"/papers\";\n    let jwt_token;\n    if (getState().kakaoinfo.login) jwt_token = getState().kakaoinfo.login.jwt_token;\n    let response = await getAPIEx(doctor_id, extantionsUrl, jwt_token, {\n      searchText: searchText,\n      limit: 10\n    });\n    return response;\n  };\n};\nexport const add_doctor_papers = (doctor_id, searchText) => {\n  return async (dispatch, getState) => {\n    const extantionsUrl = \"/papers\";\n    let jwt_token;\n    let offset = 0;\n    let papers = getState().doctorinfo.data.info.papers;\n    offset = papers.length;\n    if (getState().kakaoinfo.login) jwt_token = getState().kakaoinfo.login.jwt_token;\n    let response;\n\n    try {\n      response = await getAPIEx(doctor_id, extantionsUrl, jwt_token, {\n        searchText: searchText,\n        limit: 10,\n        offset: offset\n      });\n      dispatch({\n        type: ADD_DOCTOR_PAPERS,\n        payload: {\n          papers: response.data\n        }\n      });\n    } catch (err) {\n      if (err.response) {\n        let cb;\n        let params;\n        if (err.response.status === 403) cb = () => {\n          set_kakao_logout(jwt_token)(dispatch, getState);\n        };\n      } // console.log(ADD_DOCTOR_PAPERS + \"_ERROR\");\n\n\n      set_loading(false)(dispatch, getState);\n    }\n  };\n};\nexport const get_doctor_wordCloud = doctor_id => {\n  return async (dispatch, getState) => {\n    const extantionsUrl = \"/wordCloud\";\n    let jwt_token;\n    if (getState().kakaoinfo.login) jwt_token = getState().kakaoinfo.login.jwt_token;\n    let response = await getAPIEx(doctor_id, extantionsUrl, jwt_token);\n    return response;\n  };\n};\nexport function selected_doctor(id, score_searchText, searchText, token) {\n  return async (dispatch, getState) => {\n    let jwt_token;\n    if (getState().kakaoinfo.login) jwt_token = getState().kakaoinfo.login.jwt_token;\n    set_loading(true)(dispatch, getState);\n    dispatch({\n      type: SELECTED_DOCTOR,\n      payload: {\n        selected_doctor_id: id\n      }\n    });\n\n    try {\n      let response = await getAPI(id, searchText, score_searchText, jwt_token, token);\n      let doctor_papers;\n      let doctor_wordCloud;\n      let data = response.data;\n\n      if (data.score_medicofact) {\n        doctor_papers = await get_doctor_papers(id, searchText)(dispatch, getState);\n      }\n\n      if (data.score_medicofact) {\n        doctor_wordCloud = await get_doctor_wordCloud(id)(dispatch, getState);\n      }\n\n      if (doctor_papers) {\n        data.info.papers = doctor_papers.data;\n      }\n\n      if (doctor_wordCloud) {\n        data.info.specialty_wordCloud = doctor_wordCloud.data.specialty_wordCloud;\n        data.info.year_graph = doctor_wordCloud.data.year_graph;\n      }\n\n      dispatch({\n        type: SELECTED_DOCTOR_SUCCESS,\n        payload: {\n          data: data\n        }\n      });\n      setTimeout(() => {\n        set_loading(false)(dispatch, getState);\n      }, 1000);\n    } catch (err) {\n      // console.error(SELECTED_DOCTOR_FAILURE, err);\n      if (err.response) {\n        let cb;\n        let params;\n        console.log(err.response);\n        if (err.response.status === 403) cb = () => {\n          set_kakao_logout(jwt_token)(dispatch, getState);\n        };else if (err.response.status === 500) {\n          selected_doctor(id, score_searchText)(dispatch, getState);\n        }\n        errorExcute(err.response.status, params, cb)(dispatch, getState);\n      }\n\n      dispatch({\n        type: SELECTED_DOCTOR_FAILURE\n      });\n      set_loading(false)(dispatch, getState);\n    }\n  };\n}\nexport default ((state = initialState, action) => {\n  switch (action.type) {\n    case SET_DOCTOR_LIST:\n      return _objectSpread({}, state, {\n        list_doctor: action.payload.list_doctor,\n        cnt_doctor: action.payload.cnt_doctor,\n        offset: action.payload.list_doctor.length\n      });\n\n    case ADD_DOCTOR_LIST:\n      if (action.payload.list_doctor) return _objectSpread({}, state, {\n        list_doctor: [...state.list_doctor, ...action.payload.list_doctor],\n        offset: state.list_doctor.length + action.payload.list_doctor.length\n      });else return _objectSpread({}, state, {\n        filter_doctor: [...state.filter_doctor, ...action.payload.filter_doctor_list],\n        offset: state.filter_doctor_list.length + action.payload.filter_doctor_list.length\n      });\n\n    case RMV_DOCTOR_LIST:\n      return _objectSpread({}, state, {\n        list_doctor: [],\n        cnt_doctor: 0,\n        offset: 0\n      });\n\n    case SELECTED_DOCTOR:\n      return _objectSpread({}, state, {\n        selected_doctor_id: action.payload.selected_doctor_id,\n        selected_state: \"try\"\n      });\n\n    case SELECTED_DOCTOR_SUCCESS:\n      return _objectSpread({}, state, {\n        data: _objectSpread({}, action.payload.data),\n        selected_state: \"success\"\n      });\n\n    case SELECTED_DOCTOR_FAILURE:\n      return _objectSpread({}, state, {\n        selected_state: \"failure\"\n      });\n\n    case DOCTOR_AREA_FILTER_APPLY:\n      return _objectSpread({}, state, {\n        // filter_doctor: action.payload.filter_doctor,\n        // cnt_doctor_filter: action.payload.cnt_doctor_filter,\n        is_filter: _objectSpread({}, state.is_filter, {\n          area: true\n        }),\n        value_filter: _objectSpread({}, state.value_filter, {\n          area: action.payload.value\n        })\n      });\n\n    case DEPARTMENT_FILTER_APPLY:\n      return _objectSpread({}, state, {\n        // filter_doctor: action.payload.filter_doctor,\n        // cnt_doctor_filter: action.payload.cnt_doctor_filter,\n        is_filter: _objectSpread({}, state.is_filter, {\n          department: true\n        }),\n        value_filter: _objectSpread({}, state.value_filter, {\n          department: _objectSpread({}, state.value_filter.department, {\n            depth1: action.payload.value.depth1,\n            depth2: action.payload.value.depth2\n          })\n        })\n      });\n\n    case UNIVERSITIE_FILTER_APPLY:\n      return _objectSpread({}, state, {\n        // filter_doctor: action.payload.filter_doctor,\n        // cnt_doctor_filter: action.payload.cnt_doctor_filter,\n        is_filter: _objectSpread({}, state.is_filter, {\n          universitie: true\n        }),\n        value_filter: _objectSpread({}, state.value_filter, {\n          universitie: action.payload.value\n        })\n      });\n\n    case DOCTOR_FILTER_CLEAR:\n      return _objectSpread({}, state, {\n        // filter_doctor: [],\n        is_filter: {\n          area: false,\n          department: false,\n          universitie: false\n        },\n        offset: state.list_doctor.length\n      });\n\n    case DOCTOR_REVIEW_LIST:\n      return _objectSpread({}, state, {\n        doctor_review_state: \"request\"\n      });\n\n    case DOCTOR_REVIEW_LIST_SUCCESS:\n      return _objectSpread({}, state, {\n        doctor_review_list: action.payload.doctor_review_list,\n        doctor_review_state: \"success\"\n      });\n\n    case DOCTOR_REVIEW_LIST_FAILURE:\n      return _objectSpread({}, state, {\n        doctor_review_state: \"failure\"\n      });\n\n    case GET_DOCTOR_ALL_REVIEW:\n      return _objectSpread({}, state, {\n        review_data: action.payload.data\n      });\n\n    case ADD_DOCTOR_PAPERS:\n      return _objectSpread({}, state, {\n        data: _objectSpread({}, state.data, {\n          info: _objectSpread({}, state.data.info, {\n            papers: [...state.data.info.papers, ...action.payload.papers]\n          })\n        })\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/daehankim/Documents/GitHub/blogshot/reducers/doctorinfo.js"],"names":["SET_DOCTOR_LIST","ADD_DOCTOR_LIST","RMV_DOCTOR_LIST","SELECTED_DOCTOR","SELECTED_DOCTOR_SUCCESS","SELECTED_DOCTOR_FAILURE","DOCTOR_AREA_FILTER_APPLY","DEPARTMENT_FILTER_APPLY","UNIVERSITIE_FILTER_APPLY","DOCTOR_FILTER_CLEAR","DOCTOR_REVIEW_LIST","DOCTOR_REVIEW_LIST_SUCCESS","DOCTOR_REVIEW_LIST_FAILURE","GET_DOCTOR_ALL_REVIEW","ADD_DOCTOR_PAPERS","set_kakao_logout","Router","set_loading","message_open","set_message","BASE_URL","API_TIME_OUT","axios","errorExcute","getAPI","id","searchText","score_searchText","key","token","get","params","headers","timeout","getReviewAllAPI","exUrl","getAPIEx","data","getReviewAPI","type","types","loginkey","encodeForm","Object","keys","map","encodeURIComponent","join","post","url","put","delete","initialState","list_doctor","filter_doctor","is_filter","area","department","universitie","value_filter","cnt_doctor","offset","cnt_doctor_filter","selected_doctor_id","selected_state","review_data","doctor_review_list","doctor_review_state","doctor_review_request","review_id","is_selected_doctor","dispatch","getState","jwt_token","kakaoinfo","login","localStorage","getItem","query","is_login","doctorinfo","del","then","response","utilsinfo","msg","this_doctor_data","code","payload","get_doctor_all_review","catch","err","req","doctor_id","extantionsUrl","cb","status","isFilter","filter_logic","list","values","filterData","filter","x","current_hospital_juso_short","indexOf","clinic","depth1","depth2","study_last","area_filter_apply","text","length","filter_doctor_list","filter_doctor_cnt","value","department_filter_apply","param","universitie_filter_apply","set_doctor_list","more","remove_doctor_list","get_doctor_papers","limit","add_doctor_papers","papers","info","get_doctor_wordCloud","selected_doctor","doctor_papers","doctor_wordCloud","score_medicofact","specialty_wordCloud","year_graph","setTimeout","console","log","state","action"],"mappings":"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","sourcesContent":["import {\n    SET_DOCTOR_LIST,\n    ADD_DOCTOR_LIST,\n    RMV_DOCTOR_LIST,\n    SELECTED_DOCTOR,\n    SELECTED_DOCTOR_SUCCESS,\n    SELECTED_DOCTOR_FAILURE,\n    DOCTOR_AREA_FILTER_APPLY,\n    DEPARTMENT_FILTER_APPLY,\n    UNIVERSITIE_FILTER_APPLY,\n    DOCTOR_FILTER_CLEAR,\n    DOCTOR_REVIEW_LIST,\n    DOCTOR_REVIEW_LIST_SUCCESS,\n    DOCTOR_REVIEW_LIST_FAILURE,\n    GET_DOCTOR_ALL_REVIEW,\n    ADD_DOCTOR_PAPERS\n} from \"../actions/types\";\nimport { set_kakao_logout } from \"./kakaoinfo\";\nimport Router from \"next/router\";\nimport { set_loading, message_open, set_message } from \"./utilsinfo\";\nimport { BASE_URL, API_TIME_OUT } from \"../contants/constants\";\nimport axios from \"axios\";\nimport { errorExcute } from \"../logic/errorLogic\";\n\nfunction getAPI(id, searchText, score_searchText, key, token) {\n    return axios.get(`https://${BASE_URL}/doctor/${id}`, {\n        params: {\n            searchText,\n            score_searchText,\n            token\n        },\n        headers: token\n            ? {}\n            : {\n                  // 요청 헤더\n                  \"X-Api-Key\": key\n              },\n        timeout: API_TIME_OUT / 2 // 15초 이내에 응답이 오지 않으면 에러로 간주\n    });\n}\n\nfunction getReviewAllAPI(id, exUrl, key, token) {\n    return axios.get(`https://${BASE_URL}/doctor/${id}${exUrl || \"\"}`, {\n        params: { token },\n        headers: token\n            ? {}\n            : {\n                  // 요청 헤더\n                  \"X-Api-Key\": key\n              },\n        timeout: API_TIME_OUT / 2 // 15초 이내에 응답이 오지 않으면 에러로 간주\n    });\n}\nfunction getAPIEx(id, exUrl, key, data) {\n    return axios.get(`https://${BASE_URL}/doctor/${id}${exUrl || \"\"}`, {\n        params: data,\n        headers: {\n            // 요청 헤더\n            \"X-Api-Key\": key\n        },\n        timeout: API_TIME_OUT / 2 // 15초 이내에 응답이 오지 않으면 에러로 간주\n    });\n}\nconst getReviewAPI = (type, types, loginkey, token) => {\n    const encodeForm = data => {\n        return Object.keys(data)\n            .map(\n                key =>\n                    encodeURIComponent(key) +\n                    \"=\" +\n                    encodeURIComponent(data[key])\n            )\n            .join(\"&\");\n    };\n    if (type == \"post\") {\n        return axios.post(\n            `https://${BASE_URL}/my/review${types[type].url}`,\n            encodeForm(types[type].data),\n            {\n                params: { token },\n                headers: token\n                    ? {}\n                    : {\n                          // 요청 헤더\n                          \"X-Api-Key\": loginkey\n                      },\n                timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n            }\n        );\n    } else if (type == \"put\")\n        return axios.put(\n            `https://${BASE_URL}/my/review${types[type].url}`,\n            encodeForm(types[type].data),\n            {\n                params: { token },\n                headers: token\n                    ? {}\n                    : {\n                          // 요청 헤더\n                          \"X-Api-Key\": loginkey\n                      },\n                timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n            }\n        );\n    else if (type == \"del\")\n        return axios.delete(`https://${BASE_URL}/my/review${types[type]}`, {\n            params: { token },\n            headers: token\n                ? {}\n                : {\n                      // 요청 헤더\n                      \"X-Api-Key\": loginkey\n                  },\n            timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n        });\n    return axios.get(`https://${BASE_URL}/my/review/doctor/getAll`, {\n        params: { token },\n        headers: token\n            ? {}\n            : {\n                  // 요청 헤더\n                  \"X-Api-Key\": loginkey\n              },\n        timeout: API_TIME_OUT / 3 // 10초 이내에 응답이 오지 않으면 에러로 간주\n    });\n};\nconst initialState = {\n    list_doctor: [],\n    filter_doctor: [],\n    is_filter: { area: false, department: false, universitie: false },\n    value_filter: { area: null, department: null, universitie: null },\n    cnt_doctor: 0,\n    offset: 0,\n    cnt_doctor_filter: 0,\n    selected_doctor_id: 0,\n    data: {},\n    selected_state: \"wait\", // success, failure, wait, try,\n\n    review_data: {},\n    doctor_review_list: [],\n    doctor_review_state: \"stay\"\n};\nexport const doctor_review_request = (\n    type,\n    review_id,\n    data,\n    is_selected_doctor = true\n) => {\n    return (dispatch, getState) => {\n        let jwt_token;\n        if (getState().kakaoinfo.login)\n            jwt_token =\n                getState().kakaoinfo.login.jwt_token ||\n                localStorage.getItem(\"jwt_token\");\n        let token;\n        if (Router.query.token && !getState().kakaoinfo.is_login)\n            token = Router.query.token;\n\n        // set_loading(true)(dispatch, getState);\n        const types = {\n            get: \"/doctor/getAll\",\n            post: {\n                url: `/doctor/${getState().doctorinfo.data.id}`,\n                data: data\n            },\n            put: { url: `/d/${review_id || \"\"}`, data: data },\n            del: `/d/${review_id || \"\"}`\n        };\n        dispatch({ type: DOCTOR_REVIEW_LIST });\n        getReviewAPI(type, types, jwt_token, token)\n            .then(response => {\n                if (type == \"get\") {\n                    if (getState().utilsinfo.msg !== \"\")\n                        message_open()(dispatch, getState);\n                    let this_doctor_data = response.data;\n                    if (!this_doctor_data.code)\n                        dispatch({\n                            type: DOCTOR_REVIEW_LIST_SUCCESS,\n                            payload: {\n                                doctor_review_list: this_doctor_data\n                            }\n                        });\n                    if (is_selected_doctor)\n                        get_doctor_all_review(getState().doctorinfo.data.id)(\n                            dispatch,\n                            getState\n                        );\n                } else if (type == \"post\") {\n                    if (response.data.code === 0) {\n                        set_message(\"소중한 리뷰 감사드립니다!\")(\n                            dispatch,\n                            getState\n                        );\n                    } else {\n                        set_message(response.data.msg)(dispatch, getState);\n                    }\n                    doctor_review_request(\"get\")(dispatch, getState);\n                    set_loading(false)(dispatch, getState);\n                } else if (type == \"put\") {\n                    if (response.data.code === 0) {\n                        set_message(\"리뷰가 수정되었습니다!\")(\n                            dispatch,\n                            getState\n                        );\n                    } else {\n                        set_message(response.data.msg)(dispatch, getState);\n                    }\n                    doctor_review_request(\"get\")(dispatch, getState);\n                    set_loading(false)(dispatch, getState);\n                } else if (type == \"del\") {\n                    if (response.data.code === 0) {\n                        set_message(\"리뷰가 삭제되었습니다!\")(\n                            dispatch,\n                            getState\n                        );\n                    } else {\n                        set_message(response.data.msg)(dispatch, getState);\n                    }\n                    doctor_review_request(\"get\")(dispatch, getState);\n                    set_loading(false)(dispatch, getState);\n                }\n            })\n            .catch((err, req) => {\n                // console.log(DOCTOR_REVIEW_LIST_FAILURE, err, req);\n                dispatch({ type: DOCTOR_REVIEW_LIST_FAILURE });\n                set_loading(false)(dispatch, getState);\n                if (type === \"get\") {\n                    message_open(\"리뷰 가져오기에 실패했습니다.\")(\n                        dispatch,\n                        getState\n                    );\n                }\n                if (type === \"post\") {\n                    message_open(\"리뷰 등록하기에 실패했습니다.\")(\n                        dispatch,\n                        getState\n                    );\n                }\n                if (type === \"del\") {\n                    message_open(\"리뷰 삭제하기에 실패했습니다.\")(\n                        dispatch,\n                        getState\n                    );\n                }\n                if (type === \"put\") {\n                    message_open(\"리뷰 수정하기에 실패했습니다.\")(\n                        dispatch,\n                        getState\n                    );\n                }\n            });\n    };\n};\nexport const get_doctor_all_review = doctor_id => {\n    return (dispatch, getState) => {\n        const extantionsUrl = \"/review\";\n\n        let jwt_token;\n        if (getState().kakaoinfo.login)\n            jwt_token = getState().kakaoinfo.login.jwt_token;\n        let token;\n        if (Router.query.token && !getState().kakaoinfo.is_login)\n            token = Router.query.token;\n        getReviewAllAPI(doctor_id, extantionsUrl, jwt_token, token)\n            .then(response => {\n                // console.log(GET_DOCTOR_ALL_REVIEW + \"_SUCCESS\", response);\n                dispatch({\n                    type: GET_DOCTOR_ALL_REVIEW,\n                    payload: { data: response.data }\n                });\n                set_loading(false);\n            })\n            .catch(err => {\n                // console.error(GET_DOCTOR_ALL_REVIEW + \"_FAILURE\", err);\n                if (err.response) {\n                    let cb;\n                    let params;\n\n                    if (err.response === 403)\n                        cb = () => {\n                            set_kakao_logout(jwt_token)(dispatch, getState);\n                        };\n                    errorExcute(err.response.status, params, cb);\n                }\n            });\n    };\n};\nexport const isFilter = is_filter => {\n    if (is_filter.area || is_filter.department || is_filter.universitie) {\n        return true;\n    }\n    return false;\n};\nconst filter_logic = (list, is_filter, values) => {\n    let filterData = [];\n    if (is_filter.area && values.area) {\n        filterData = list.filter(x =>\n            x.current_hospital_juso_short.indexOf(values.area) == 0\n                ? true\n                : false\n        );\n    }\n    if (is_filter.department && values.department) {\n        filterData = list.filter(x =>\n            x.clinic.indexOf(values.department.depth1) == 0 ||\n            x.clinic.indexOf(values.department.depth2) == 0\n                ? true\n                : false\n        );\n    }\n    if (is_filter.universitie && values.universitie) {\n        filterData = list.filter(x =>\n            x.study_last.indexOf(values.universitie) == 0 ? true : false\n        );\n    }\n    return filterData;\n};\nexport function area_filter_apply(text) {\n    return (dispatch, getState) => {\n        if (text.indexOf(\"전체\") == 0) return;\n        const is_filter = getState().doctorinfo.is_filter;\n        const list_doctor =\n            !is_filter.area && !is_filter.department && !is_filter.universitie\n                ? getState().doctorinfo.list_doctor\n                : getState().doctorinfo.filter_doctor;\n\n        if (!list_doctor || list_doctor.length <= 0) return;\n        //\n        const filter_doctor_list = list_doctor.filter(x =>\n            x.current_hospital_juso_short.indexOf(text) == 0 ? true : false\n        );\n        const filter_doctor_cnt = filter_doctor_list.length;\n\n        const filter_doctor = filter_doctor_list;\n        dispatch({\n            type: DOCTOR_AREA_FILTER_APPLY,\n            payload: {\n                filter_doctor: filter_doctor,\n                cnt_doctor_filter: filter_doctor_cnt,\n                value: text\n            }\n        });\n    };\n}\nexport function department_filter_apply(param) {\n    return (dispatch, getState) => {\n        if (\n            (param.depth1 && param.depth1.indexOf(\"전체\") == 0) ||\n            (param.depth2 && param.depth2.indexOf(\"선택\") == 0)\n        )\n            return;\n        const is_filter = getState().doctorinfo.is_filter;\n        const list_doctor =\n            !is_filter.area && !is_filter.department && !is_filter.universitie\n                ? getState().doctorinfo.list_doctor\n                : getState().doctorinfo.filter_doctor;\n\n        if (!list_doctor || list_doctor.length <= 0) return;\n        //\n        const filter_doctor_list = list_doctor.filter(x =>\n            x.clinic.indexOf(param.depth1) == 0 ||\n            x.clinic.indexOf(param.depth2) == 0\n                ? true\n                : false\n        );\n        const filter_doctor_cnt = filter_doctor_list.length;\n\n        const filter_doctor = filter_doctor_list;\n        dispatch({\n            type: DEPARTMENT_FILTER_APPLY,\n            payload: {\n                filter_doctor: filter_doctor,\n                cnt_doctor_filter: filter_doctor_cnt,\n                value: param\n            }\n        });\n    };\n}\nexport function universitie_filter_apply(text) {\n    return (dispatch, getState) => {\n        const is_filter = getState().doctorinfo.is_filter;\n        const list_doctor =\n            !is_filter.area && !is_filter.department && !is_filter.universitie\n                ? getState().doctorinfo.list_doctor\n                : getState().doctorinfo.filter_doctor;\n\n        if (!list_doctor || list_doctor.length <= 0) return;\n        //\n        const filter_doctor_list = list_doctor.filter(x =>\n            x.study_last.indexOf(text) == 0 ? true : false\n        );\n        const filter_doctor_cnt = filter_doctor_list.length;\n\n        const filter_doctor = filter_doctor_list;\n\n        dispatch({\n            type: UNIVERSITIE_FILTER_APPLY,\n            payload: {\n                filter_doctor: filter_doctor,\n                cnt_doctor_filter: filter_doctor_cnt,\n                value: text\n            }\n        });\n    };\n}\n\nexport function set_doctor_list(response, more) {\n    return (dispatch, getState) => {\n        const list_doctor = response.data.list_doctor.list;\n        const cnt_doctor = response.data.list_doctor.cnt_doctor;\n        const is_filter = getState().doctorinfo.is_filter;\n        if (!more) {\n            dispatch({\n                type: SET_DOCTOR_LIST,\n                payload: {\n                    list_doctor: list_doctor,\n                    cnt_doctor: cnt_doctor\n                }\n            });\n        } else {\n            if (isFilter(is_filter)) {\n                const filter_doctor_list = filter_logic(\n                    list_doctor,\n                    is_filter,\n                    getState().doctorinfo.value_filter\n                );\n                dispatch({\n                    type: ADD_DOCTOR_LIST,\n                    payload: {\n                        filter_doctor_list: filter_doctor_list\n                    }\n                });\n            } else {\n                dispatch({\n                    type: ADD_DOCTOR_LIST,\n                    payload: {\n                        list_doctor: list_doctor\n                    }\n                });\n            }\n        }\n    };\n}\nexport function remove_doctor_list() {\n    return (dispatch, getState) => {\n        dispatch({\n            type: RMV_DOCTOR_LIST\n        });\n    };\n}\n\nexport const get_doctor_papers = (doctor_id, searchText) => {\n    return async (dispatch, getState) => {\n        const extantionsUrl = \"/papers\";\n\n        let jwt_token;\n\n        if (getState().kakaoinfo.login)\n            jwt_token = getState().kakaoinfo.login.jwt_token;\n\n        let response = await getAPIEx(doctor_id, extantionsUrl, jwt_token, {\n            searchText: searchText,\n            limit: 10\n        });\n\n        return response;\n    };\n};\nexport const add_doctor_papers = (doctor_id, searchText) => {\n    return async (dispatch, getState) => {\n        const extantionsUrl = \"/papers\";\n\n        let jwt_token;\n        let offset = 0;\n\n        let papers = getState().doctorinfo.data.info.papers;\n        offset = papers.length;\n\n        if (getState().kakaoinfo.login)\n            jwt_token = getState().kakaoinfo.login.jwt_token;\n\n        let response;\n        try {\n            response = await getAPIEx(doctor_id, extantionsUrl, jwt_token, {\n                searchText: searchText,\n                limit: 10,\n                offset: offset\n            });\n\n            dispatch({\n                type: ADD_DOCTOR_PAPERS,\n                payload: { papers: response.data }\n            });\n        } catch (err) {\n            if (err.response) {\n                let cb;\n                let params;\n\n                if (err.response.status === 403)\n                    cb = () => {\n                        set_kakao_logout(jwt_token)(dispatch, getState);\n                    };\n            }\n            // console.log(ADD_DOCTOR_PAPERS + \"_ERROR\");\n            set_loading(false)(dispatch, getState);\n        }\n    };\n};\n\nexport const get_doctor_wordCloud = doctor_id => {\n    return async (dispatch, getState) => {\n        const extantionsUrl = \"/wordCloud\";\n\n        let jwt_token;\n        if (getState().kakaoinfo.login)\n            jwt_token = getState().kakaoinfo.login.jwt_token;\n        let response = await getAPIEx(doctor_id, extantionsUrl, jwt_token);\n\n        return response;\n    };\n};\n\nexport function selected_doctor(id, score_searchText, searchText, token) {\n    return async (dispatch, getState) => {\n        let jwt_token;\n        if (getState().kakaoinfo.login)\n            jwt_token = getState().kakaoinfo.login.jwt_token;\n        set_loading(true)(dispatch, getState);\n        dispatch({\n            type: SELECTED_DOCTOR,\n            payload: { selected_doctor_id: id }\n        });\n        try {\n            let response = await getAPI(\n                id,\n                searchText,\n                score_searchText,\n                jwt_token,\n                token\n            );\n\n            let doctor_papers;\n            let doctor_wordCloud;\n            let data = response.data;\n\n            if (data.score_medicofact) {\n                doctor_papers = await get_doctor_papers(id, searchText)(\n                    dispatch,\n                    getState\n                );\n            }\n            if (data.score_medicofact) {\n                doctor_wordCloud = await get_doctor_wordCloud(id)(\n                    dispatch,\n                    getState\n                );\n            }\n\n            if (doctor_papers) {\n                data.info.papers = doctor_papers.data;\n            }\n\n            if (doctor_wordCloud) {\n                data.info.specialty_wordCloud =\n                    doctor_wordCloud.data.specialty_wordCloud;\n                data.info.year_graph = doctor_wordCloud.data.year_graph;\n            }\n\n            dispatch({\n                type: SELECTED_DOCTOR_SUCCESS,\n                payload: { data: data }\n            });\n            setTimeout(() => {\n                set_loading(false)(dispatch, getState);\n            }, 1000);\n        } catch (err) {\n            // console.error(SELECTED_DOCTOR_FAILURE, err);\n\n            if (err.response) {\n                let cb;\n                let params;\n                console.log(err.response);\n                if (err.response.status === 403)\n                    cb = () => {\n                        set_kakao_logout(jwt_token)(dispatch, getState);\n                    };\n                else if (err.response.status === 500) {\n                    selected_doctor(id, score_searchText)(dispatch, getState);\n                }\n\n                errorExcute(\n                    err.response.status,\n                    params,\n                    cb\n                )(dispatch, getState);\n            }\n            dispatch({\n                type: SELECTED_DOCTOR_FAILURE\n            });\n            set_loading(false)(dispatch, getState);\n        }\n    };\n}\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case SET_DOCTOR_LIST:\n            return {\n                ...state,\n                list_doctor: action.payload.list_doctor,\n                cnt_doctor: action.payload.cnt_doctor,\n                offset: action.payload.list_doctor.length\n            };\n        case ADD_DOCTOR_LIST:\n            if (action.payload.list_doctor)\n                return {\n                    ...state,\n                    list_doctor: [\n                        ...state.list_doctor,\n                        ...action.payload.list_doctor\n                    ],\n                    offset:\n                        state.list_doctor.length +\n                        action.payload.list_doctor.length\n                };\n            else\n                return {\n                    ...state,\n                    filter_doctor: [\n                        ...state.filter_doctor,\n                        ...action.payload.filter_doctor_list\n                    ],\n                    offset:\n                        state.filter_doctor_list.length +\n                        action.payload.filter_doctor_list.length\n                };\n        case RMV_DOCTOR_LIST:\n            return {\n                ...state,\n                list_doctor: [],\n                cnt_doctor: 0,\n                offset: 0\n            };\n        case SELECTED_DOCTOR:\n            return {\n                ...state,\n                selected_doctor_id: action.payload.selected_doctor_id,\n                selected_state: \"try\"\n            };\n        case SELECTED_DOCTOR_SUCCESS:\n            return {\n                ...state,\n                data: { ...action.payload.data },\n                selected_state: \"success\"\n            };\n        case SELECTED_DOCTOR_FAILURE:\n            return {\n                ...state,\n                selected_state: \"failure\"\n            };\n        case DOCTOR_AREA_FILTER_APPLY:\n            return {\n                ...state,\n                // filter_doctor: action.payload.filter_doctor,\n                // cnt_doctor_filter: action.payload.cnt_doctor_filter,\n                is_filter: {\n                    ...state.is_filter,\n                    area: true\n                },\n                value_filter: {\n                    ...state.value_filter,\n                    area: action.payload.value\n                }\n            };\n        case DEPARTMENT_FILTER_APPLY:\n            return {\n                ...state,\n                // filter_doctor: action.payload.filter_doctor,\n                // cnt_doctor_filter: action.payload.cnt_doctor_filter,\n                is_filter: {\n                    ...state.is_filter,\n                    department: true\n                },\n                value_filter: {\n                    ...state.value_filter,\n                    department: {\n                        ...state.value_filter.department,\n                        depth1: action.payload.value.depth1,\n                        depth2: action.payload.value.depth2\n                    }\n                }\n            };\n        case UNIVERSITIE_FILTER_APPLY:\n            return {\n                ...state,\n                // filter_doctor: action.payload.filter_doctor,\n                // cnt_doctor_filter: action.payload.cnt_doctor_filter,\n                is_filter: {\n                    ...state.is_filter,\n                    universitie: true\n                },\n                value_filter: {\n                    ...state.value_filter,\n                    universitie: action.payload.value\n                }\n            };\n        case DOCTOR_FILTER_CLEAR:\n            return {\n                ...state,\n                // filter_doctor: [],\n                is_filter: {\n                    area: false,\n                    department: false,\n                    universitie: false\n                },\n                offset: state.list_doctor.length\n            };\n        case DOCTOR_REVIEW_LIST:\n            return {\n                ...state,\n                doctor_review_state: \"request\"\n            };\n        case DOCTOR_REVIEW_LIST_SUCCESS:\n            return {\n                ...state,\n                doctor_review_list: action.payload.doctor_review_list,\n                doctor_review_state: \"success\"\n            };\n        case DOCTOR_REVIEW_LIST_FAILURE:\n            return {\n                ...state,\n                doctor_review_state: \"failure\"\n            };\n        case GET_DOCTOR_ALL_REVIEW:\n            return {\n                ...state,\n                review_data: action.payload.data\n            };\n        case ADD_DOCTOR_PAPERS:\n            return {\n                ...state,\n                data: {\n                    ...state.data,\n                    info: {\n                        ...state.data.info,\n                        papers: [\n                            ...state.data.info.papers,\n                            ...action.payload.papers\n                        ]\n                    }\n                }\n            };\n        default:\n            return state;\n    }\n};\n"]},"metadata":{},"sourceType":"module"}