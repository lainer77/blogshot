{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\"; // import { useDispatch } from \"react-redux\";\n\nimport { BASE_URL, API_TIME_OUT } from \"../contants/constants\";\n\nfunction useTistoryLogin() {\n  var _useState = useState([]),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(),\n      error = _useState3[0],\n      setError = _useState3[1]; //   const dispatch = useDispatch();\n\n\n  var absolve = function absolve() {\n    setLoading(true);\n    var client_id = process.env.TISTORY_APP_ID;\n    var redirect_uri = process.env.TISTORY_REDIRECT_URL;\n    res.set({\n      \"access-control-allow-origin\": \"*\"\n    });\n    req.method = req.headers[\"access-control-request-method\"];\n    return axios.get(\"https://www.tistory.com/oauth/authorize\", {\n      params: {\n        client_id: client_id,\n        redirect_uri: redirect_uri,\n        response_type: \"code\"\n      }\n    }).then(function (tres) {\n      res.send(tres.data);\n    })[\"catch\"](function (err) {\n      res.json(err);\n    });\n  };\n\n  return {\n    absolve: absolve,\n    loading: loading,\n    error: error,\n    result: data\n  };\n}\n\nuseTistoryLogin.propTypes = {};\nexport default useTistoryLogin;","map":{"version":3,"sources":["/Users/daehankim/Documents/GitHub/blogshot/useActions/useTistoryLogin.js"],"names":["useState","useEffect","PropTypes","axios","BASE_URL","API_TIME_OUT","useTistoryLogin","data","setData","loading","setLoading","error","setError","absolve","client_id","process","env","TISTORY_APP_ID","redirect_uri","TISTORY_REDIRECT_URL","res","set","req","method","headers","get","params","response_type","then","tres","send","err","json","result","propTypes"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAASC,QAAT,EAAmBC,YAAnB,QAAuC,uBAAvC;;AAEA,SAASC,eAAT,GAA2B;AAAA,kBACDN,QAAQ,CAAC,EAAD,CADP;AAAA,MAClBO,IADkB;AAAA,MACZC,OADY;;AAAA,mBAEKR,QAAQ,CAAC,KAAD,CAFb;AAAA,MAElBS,OAFkB;AAAA,MAETC,UAFS;;AAAA,mBAGCV,QAAQ,EAHT;AAAA,MAGlBW,KAHkB;AAAA,MAGXC,QAHW,kBAIzB;;;AAEA,MAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpBH,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,QAAMI,SAAS,GAAGC,OAAO,CAACC,GAAR,CAAYC,cAA9B;AACA,QAAMC,YAAY,GAAGH,OAAO,CAACC,GAAR,CAAYG,oBAAjC;AACAC,IAAAA,GAAG,CAACC,GAAJ,CAAQ;AAAE,qCAA+B;AAAjC,KAAR;AACAC,IAAAA,GAAG,CAACC,MAAJ,GAAaD,GAAG,CAACE,OAAJ,CAAY,+BAAZ,CAAb;AACA,WAAOrB,KAAK,CACTsB,GADI,CACA,yCADA,EAC2C;AAC9CC,MAAAA,MAAM,EAAE;AAAEZ,QAAAA,SAAS,EAATA,SAAF;AAAaI,QAAAA,YAAY,EAAZA,YAAb;AAA2BS,QAAAA,aAAa,EAAE;AAA1C;AADsC,KAD3C,EAIJC,IAJI,CAIC,UAAAC,IAAI,EAAI;AACZT,MAAAA,GAAG,CAACU,IAAJ,CAASD,IAAI,CAACtB,IAAd;AACD,KANI,WAOE,UAAAwB,GAAG,EAAI;AACZX,MAAAA,GAAG,CAACY,IAAJ,CAASD,GAAT;AACD,KATI,CAAP;AAUD,GAhBD;;AAkBA,SAAO;AAAElB,IAAAA,OAAO,EAAPA,OAAF;AAAWJ,IAAAA,OAAO,EAAPA,OAAX;AAAoBE,IAAAA,KAAK,EAALA,KAApB;AAA2BsB,IAAAA,MAAM,EAAE1B;AAAnC,GAAP;AACD;;AAEDD,eAAe,CAAC4B,SAAhB,GAA4B,EAA5B;AAEA,eAAe5B,eAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\n// import { useDispatch } from \"react-redux\";\nimport { BASE_URL, API_TIME_OUT } from \"../contants/constants\";\n\nfunction useTistoryLogin() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState();\n  //   const dispatch = useDispatch();\n\n  const absolve = () => {\n    setLoading(true);\n    const client_id = process.env.TISTORY_APP_ID;\n    const redirect_uri = process.env.TISTORY_REDIRECT_URL;\n    res.set({ \"access-control-allow-origin\": \"*\" });\n    req.method = req.headers[\"access-control-request-method\"];\n    return axios\n      .get(\"https://www.tistory.com/oauth/authorize\", {\n        params: { client_id, redirect_uri, response_type: \"code\" }\n      })\n      .then(tres => {\n        res.send(tres.data);\n      })\n      .catch(err => {\n        res.json(err);\n      });\n  };\n\n  return { absolve, loading, error, result: data };\n}\n\nuseTistoryLogin.propTypes = {};\n\nexport default useTistoryLogin;\n"]},"metadata":{},"sourceType":"module"}