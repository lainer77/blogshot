{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/daehankim/Documents/GitHub/blogshot/components/popup/SharePopup.js\";\nvar __jsx = React.createElement;\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n    && {\\n        position: absolute;\\n        padding: 10px;\\n        right: 0;\\n        top: 0%;\\n    }\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    && {\\n        display: flex;\\n        justify-content: center;\\n    }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    && {\\n        font-weight: bold;\\n        font-size: \", \";\\n        letter-spacing: 0;\\n        margin: \", \" 0;\\n        margin-bottom: \", \";\\n    }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    && {\\n        text-align: center;\\n        padding: \", \" \", \";\\n    }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    && {\\n        position: absolute;\\n        background-color: \", \";\\n        box-shadow: \", \";\\n        outline: \\\"none\\\";\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Layout from \"../layouts/PopupLayout\";\nimport styled from \"styled-components\";\nimport theme from \"../../theme\";\nimport KakaoIcon from \"../Icon/KakaoIcon\";\nimport SNSIcon from \"../Icon/SNSIcon\";\nimport UrlIcon from \"../Icon/UrlIcon\";\nimport CancelIcon from \"../Icon/CancelIconBlack\";\nimport { message_open } from \"../../reducers/utilsinfo\";\nimport { pTr } from \"../../styles/typography\";\nimport { Typography, IconButton } from \"@material-ui/core\";\nimport copy from \"copy-to-clipboard\";\nimport { HOME_URL, BASE_URL } from \"../../contants/constants\";\nimport axios from \"axios\";\n\nfunction getModalStyle() {\n  var top = 50;\n  var left = 50;\n  return {\n    top: \"\".concat(top, \"%\"),\n    left: \"\".concat(left, \"%\"),\n    transform: \"translate(-\".concat(top, \"%, -\").concat(left, \"%)\"),\n    // height: pTr(568)\n    width: pTr(299),\n    borderRadius: pTr(6)\n  };\n} //#region\n\n\nvar PaperStyle = styled.div(_templateObject(), theme.palette.background.paper, theme.shadows[0]);\nvar Content = styled.div(_templateObject2(), pTr(20), pTr(10));\nvar Title = styled.div(_templateObject3(), pTr(22), pTr(10), pTr(20));\nvar Body = styled(Typography)(_templateObject4());\nvar Cancel = styled(IconButton)(_templateObject5());\nvar ButtonContainerStyle = {\n  textAlign: \"center\",\n  padding: \"0\",\n  display: \"flex\",\n  flexWrap: \"wrap\",\n  justifyContent: \"center\"\n};\nvar IconButtonStyle = {\n  padding: 0\n};\nvar IconStyle = {\n  width: pTr(48),\n  height: pTr(48)\n};\nvar LabelStyle = {\n  fontSize: pTr(14),\n  fontHeight: pTr(20),\n  letterSpacing: 0\n};\n\nfunction checkMobile() {\n  var varUA = navigator.userAgent.toLowerCase(); //userAgent 값 얻기\n\n  if (varUA.indexOf(\"android\") > -1) {\n    //안드로이드\n    return \"android\";\n  } else if (varUA.indexOf(\"iphone\") > -1 || varUA.indexOf(\"ipad\") > -1 || varUA.indexOf(\"ipod\") > -1) {\n    //IOS\n    return \"ios\";\n  } else {\n    //아이폰, 안드로이드 외\n    return \"other\";\n  }\n}\n\nvar KaKao = function KaKao(_ref) {\n  var onClose = _ref.onClose,\n      selected_doctor = _ref.selected_doctor,\n      selected_hospital = _ref.selected_hospital,\n      getTemporaryToken = _ref.getTemporaryToken;\n  var selected_name = selected_doctor || selected_hospital;\n  if (selected_doctor) selected_name = selected_name + \"님\";\n  var msg = \"\\uBBFF\\uC744 \\uC218 \\uC788\\uB294 \\uC758\\uC0AC \\uCC3E\\uAE30 - \\uBA54\\uB514\\uCF54\\uC2A4\\uCF54\\uD504 : \".concat(selected_name, \" \\uC815\\uBCF4 \\uBCF4\\uAE30\");\n  useEffect(function () {\n    if (!Kakao.isInitialized()) Kakao.init(\"d8cb17ff38c4464473b0b225340d4c2a\");\n  }, []);\n  return __jsx(\"div\", {\n    style: ButtonContainerStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, __jsx(IconButton, {\n    style: IconButtonStyle,\n    onClick: function onClick() {\n      onClose();\n      getTemporaryToken(function (_ref2) {\n        var token = _ref2.token;\n        var href = window.location.href + \"&token=\".concat(token);\n\n        if (Kakao) {\n          Kakao.Link.sendDefault({\n            objectType: \"feed\",\n            content: {\n              title: \"Medicoscope\",\n              // 콘텐츠의 타이틀\n              imageUrl: \"\",\n              link: {\n                webUrl: href,\n                mobileWebUrl: href\n              },\n              description: msg // 콘텐츠 상세설명\n\n            },\n            buttonTitle: \"이동하기\",\n            buttons: [{\n              title: \"이동하기\",\n              link: {\n                webUrl: href,\n                mobileWebUrl: href\n              }\n            }],\n            installTalk: true\n          });\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, __jsx(KakaoIcon, {\n    style: IconStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  })), __jsx(\"span\", {\n    style: LabelStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"\\uCE74\\uCE74\\uC624\\uD1A1\"));\n};\n\nvar Sns = function Sns(_ref3) {\n  var onClose = _ref3.onClose,\n      selected_doctor = _ref3.selected_doctor,\n      selected_hospital = _ref3.selected_hospital,\n      getTemporaryToken = _ref3.getTemporaryToken;\n  var selected_name = selected_doctor || selected_hospital;\n  if (selected_doctor) selected_name = selected_name + \"님\";\n  return __jsx(\"div\", {\n    style: ButtonContainerStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, __jsx(IconButton, {\n    style: IconButtonStyle,\n    onClick: function onClick() {\n      if (selected_name) {\n        getTemporaryToken(function (_ref4) {\n          var token = _ref4.token;\n          var href = window.location.href + \"&token=\".concat(token);\n          location.href = \"sms:\" + (checkMobile() == \"ios\" ? \"&\" : \"?\") + \"body=\" + \"\\uBBFF\\uC744 \\uC218 \\uC788\\uB294 \\uC758\\uC0AC \\uCC3E\\uAE30 - \\uBA54\\uB514\\uCF54\\uC2A4\\uCF54\\uD504 : \".concat(selected_name, \" \\uC815\\uBCF4 \\uBCF4\\uAE30 \").concat(href);\n        });\n      }\n\n      onClose();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, __jsx(SNSIcon, {\n    style: IconStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  })), __jsx(\"span\", {\n    style: LabelStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, \"\\uBB38\\uC790\\uBA54\\uC2DC\\uC9C0\"));\n};\n\nvar Url = function Url(_ref5) {\n  var onClose = _ref5.onClose,\n      message_open = _ref5.message_open,\n      getTemporaryToken = _ref5.getTemporaryToken;\n  return __jsx(\"div\", {\n    style: ButtonContainerStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, __jsx(IconButton, {\n    style: IconButtonStyle,\n    onClick: function onClick() {\n      getTemporaryToken(function (_ref6) {\n        var token = _ref6.token;\n        var href = window.location.href + \"&token=\".concat(token);\n        copy(href);\n        message_open(\"URL\\uC774 \\uBCF5\\uC0AC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\");\n        onClose();\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, __jsx(UrlIcon, {\n    style: IconStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  })), __jsx(\"span\", {\n    style: LabelStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, \"URL\\uBCF5\\uC0AC\"));\n};\n\nvar exUrl = \"/my/share\";\n\nvar ReviewPopup = function ReviewPopup(props) {\n  var bodyProps = props.bodyProps,\n      titleProps = props.titleProps,\n      cancelProps = props.cancelProps,\n      selected_doctor = props.selected_doctor,\n      _props$selected_hospi = props.selected_hospital,\n      selected_hospital = _props$selected_hospi === void 0 ? \"삼성서울병원\" : _props$selected_hospi,\n      onClose = props.onClose,\n      message_open = props.message_open;\n\n  var getTemporaryToken = function getTemporaryToken(cb) {\n    var selected_view;\n    var selected_id;\n\n    if (sessionStorage.getItem(\"selected_view\") == \"doctor\") {\n      selected_view = \"doctor\";\n      selected_id = props.selected_doctor_id;\n    } else if (sessionStorage.getItem(\"selected_view\") == \"hospital\") {\n      selected_view = \"hospital\";\n      selected_id = props.selected_hospital_id;\n    }\n\n    var encodeForm = function encodeForm(data) {\n      return _Object$keys(data).map(function (key) {\n        return encodeURIComponent(key) + \"=\" + encodeURIComponent(data[key]);\n      }).join(\"&\");\n    };\n\n    axios.post(\"https://\".concat(BASE_URL + exUrl), encodeForm({\n      url: \"/v1/\".concat(selected_view, \"/\").concat(selected_id)\n    }), {\n      headers: {\n        \"X-Api-Key\": localStorage.getItem(\"jwt_token\")\n      }\n    }).then(function (res) {\n      if (res.data.code == 0) {\n        if (res.data.msg) {\n          cb({\n            token: res.data.msg\n          });\n        }\n      }\n    })[\"catch\"](function (error) {});\n  };\n\n  return __jsx(PaperStyle, {\n    style: getModalStyle(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }, __jsx(Content, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273\n    },\n    __self: this\n  }, __jsx(Title, _extends({}, titleProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274\n    },\n    __self: this\n  }), \"\\uACF5\\uC720\\uD558\\uAE30\"), __jsx(Body, _extends({}, bodyProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275\n    },\n    __self: this\n  }), __jsx(KaKao, {\n    onClose: onClose,\n    selected_doctor: selected_doctor,\n    selected_hospital: selected_hospital,\n    getTemporaryToken: getTemporaryToken,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276\n    },\n    __self: this\n  }), __jsx(Sns, {\n    onClose: onClose,\n    selected_doctor: selected_doctor,\n    selected_hospital: selected_hospital,\n    getTemporaryToken: getTemporaryToken,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282\n    },\n    __self: this\n  }), __jsx(Url, {\n    onClose: onClose,\n    message_open: message_open,\n    selected_doctor: selected_doctor,\n    selected_hospital: selected_hospital,\n    getTemporaryToken: getTemporaryToken,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288\n    },\n    __self: this\n  }))), __jsx(Cancel, _extends({\n    onClick: onClose\n  }, cancelProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  }), __jsx(CancelIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298\n    },\n    __self: this\n  })));\n};\n\nfunction Index(props) {\n  var open = props.open,\n      onClose = props.onClose,\n      other = _objectWithoutProperties(props, [\"open\", \"onClose\"]);\n\n  var handleClose = function handleClose() {\n    onClose();\n  };\n\n  return __jsx(Layout, _extends({\n    open: props.open,\n    handleClose: handleClose,\n    content: ReviewPopup\n  }, other, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    selected_doctor: state.doctorinfo.data.name_kor,\n    selected_hospital: state.hospitalinfo.data.name,\n    selected_doctor_id: state.doctorinfo.selected_doctor_id,\n    selected_hospital_id: state.hospitalinfo.selected_hospital_id\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    message_open: message_open\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Index);","map":{"version":3,"sources":["/Users/daehankim/Documents/GitHub/blogshot/components/popup/SharePopup.js"],"names":["React","useEffect","connect","bindActionCreators","Layout","styled","theme","KakaoIcon","SNSIcon","UrlIcon","CancelIcon","message_open","pTr","Typography","IconButton","copy","HOME_URL","BASE_URL","axios","getModalStyle","top","left","transform","width","borderRadius","PaperStyle","div","palette","background","paper","shadows","Content","Title","Body","Cancel","ButtonContainerStyle","textAlign","padding","display","flexWrap","justifyContent","IconButtonStyle","IconStyle","height","LabelStyle","fontSize","fontHeight","letterSpacing","checkMobile","varUA","navigator","userAgent","toLowerCase","indexOf","KaKao","onClose","selected_doctor","selected_hospital","getTemporaryToken","selected_name","msg","Kakao","isInitialized","init","token","href","window","location","Link","sendDefault","objectType","content","title","imageUrl","link","webUrl","mobileWebUrl","description","buttonTitle","buttons","installTalk","Sns","Url","exUrl","ReviewPopup","props","bodyProps","titleProps","cancelProps","cb","selected_view","selected_id","sessionStorage","getItem","selected_doctor_id","selected_hospital_id","encodeForm","data","map","key","encodeURIComponent","join","post","url","headers","localStorage","then","res","code","error","Index","open","other","handleClose","mapStateToProps","state","doctorinfo","name_kor","hospitalinfo","name","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport Layout from \"../layouts/PopupLayout\";\nimport styled from \"styled-components\";\nimport theme from \"../../theme\";\n\nimport KakaoIcon from \"../Icon/KakaoIcon\";\nimport SNSIcon from \"../Icon/SNSIcon\";\nimport UrlIcon from \"../Icon/UrlIcon\";\nimport CancelIcon from \"../Icon/CancelIconBlack\";\n\nimport { message_open } from \"../../reducers/utilsinfo\";\n\nimport { pTr } from \"../../styles/typography\";\nimport { Typography, IconButton } from \"@material-ui/core\";\nimport copy from \"copy-to-clipboard\";\nimport { HOME_URL, BASE_URL } from \"../../contants/constants\";\nimport axios from \"axios\";\n\nfunction getModalStyle() {\n    const top = 50;\n    const left = 50;\n\n    return {\n        top: `${top}%`,\n        left: `${left}%`,\n        transform: `translate(-${top}%, -${left}%)`,\n        // height: pTr(568)\n        width: pTr(299),\n        borderRadius: pTr(6)\n    };\n}\n\n//#region\nconst PaperStyle = styled.div`\n    && {\n        position: absolute;\n        background-color: ${theme.palette.background.paper};\n        box-shadow: ${theme.shadows[0]};\n        outline: \"none\";\n    }\n`;\nconst Content = styled.div`\n    && {\n        text-align: center;\n        padding: ${pTr(20)} ${pTr(10)};\n    }\n`;\nconst Title = styled.div`\n    && {\n        font-weight: bold;\n        font-size: ${pTr(22)};\n        letter-spacing: 0;\n        margin: ${pTr(10)} 0;\n        margin-bottom: ${pTr(20)};\n    }\n`;\nconst Body = styled(Typography)`\n    && {\n        display: flex;\n        justify-content: center;\n    }\n`;\nconst Cancel = styled(IconButton)`\n    && {\n        position: absolute;\n        padding: 10px;\n        right: 0;\n        top: 0%;\n    }\n`;\nconst ButtonContainerStyle = {\n    textAlign: \"center\",\n    padding: `0`,\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\"\n};\nconst IconButtonStyle = {\n    padding: 0\n};\nconst IconStyle = {\n    width: pTr(48),\n    height: pTr(48)\n};\nconst LabelStyle = {\n    fontSize: pTr(14),\n    fontHeight: pTr(20),\n    letterSpacing: 0\n};\nfunction checkMobile() {\n    var varUA = navigator.userAgent.toLowerCase(); //userAgent 값 얻기\n\n    if (varUA.indexOf(\"android\") > -1) {\n        //안드로이드\n        return \"android\";\n    } else if (\n        varUA.indexOf(\"iphone\") > -1 ||\n        varUA.indexOf(\"ipad\") > -1 ||\n        varUA.indexOf(\"ipod\") > -1\n    ) {\n        //IOS\n        return \"ios\";\n    } else {\n        //아이폰, 안드로이드 외\n        return \"other\";\n    }\n}\n\nconst KaKao = ({\n    onClose,\n    selected_doctor,\n    selected_hospital,\n    getTemporaryToken\n}) => {\n    let selected_name = selected_doctor || selected_hospital;\n    if (selected_doctor) selected_name = selected_name + \"님\";\n    const msg = `믿을 수 있는 의사 찾기 - 메디코스코프 : ${selected_name} 정보 보기`;\n    useEffect(() => {\n        if (!Kakao.isInitialized())\n            Kakao.init(\"d8cb17ff38c4464473b0b225340d4c2a\");\n    }, []);\n    return (\n        <div style={ButtonContainerStyle}>\n            <IconButton\n                style={IconButtonStyle}\n                onClick={() => {\n                    onClose();\n                    getTemporaryToken(({ token }) => {\n                        let href = window.location.href + `&token=${token}`;\n                        if (Kakao) {\n                            Kakao.Link.sendDefault({\n                                objectType: \"feed\",\n                                content: {\n                                    title: \"Medicoscope\", // 콘텐츠의 타이틀\n                                    imageUrl: \"\",\n                                    link: {\n                                        webUrl: href,\n                                        mobileWebUrl: href\n                                    },\n                                    description: msg // 콘텐츠 상세설명\n                                },\n                                buttonTitle: \"이동하기\",\n                                buttons: [\n                                    {\n                                        title: \"이동하기\",\n                                        link: {\n                                            webUrl: href,\n                                            mobileWebUrl: href\n                                        }\n                                    }\n                                ],\n                                installTalk: true\n                            });\n                        }\n                    });\n                }}\n            >\n                <KakaoIcon style={IconStyle} />\n            </IconButton>\n            <span style={LabelStyle}>카카오톡</span>\n        </div>\n    );\n};\nconst Sns = ({\n    onClose,\n    selected_doctor,\n    selected_hospital,\n    getTemporaryToken\n}) => {\n    let selected_name = selected_doctor || selected_hospital;\n    if (selected_doctor) selected_name = selected_name + \"님\";\n    return (\n        <div style={ButtonContainerStyle}>\n            <IconButton\n                style={IconButtonStyle}\n                onClick={() => {\n                    if (selected_name) {\n                        getTemporaryToken(({ token }) => {\n                            let href = window.location.href + `&token=${token}`;\n                            location.href =\n                                \"sms:\" +\n                                (checkMobile() == \"ios\" ? \"&\" : \"?\") +\n                                \"body=\" +\n                                `믿을 수 있는 의사 찾기 - 메디코스코프 : ${selected_name} 정보 보기 ${href}`;\n                        });\n                    }\n                    onClose();\n                }}\n            >\n                <SNSIcon style={IconStyle} />\n            </IconButton>\n            <span style={LabelStyle}>문자메시지</span>\n        </div>\n    );\n};\nconst Url = ({ onClose, message_open, getTemporaryToken }) => {\n    return (\n        <div style={ButtonContainerStyle}>\n            <IconButton\n                style={IconButtonStyle}\n                onClick={() => {\n                    getTemporaryToken(({ token }) => {\n                        let href = window.location.href + `&token=${token}`;\n                        copy(href);\n                        message_open(`URL이 복사되었습니다.`);\n                        onClose();\n                    });\n                }}\n            >\n                <UrlIcon style={IconStyle} />\n            </IconButton>\n            <span style={LabelStyle}>URL복사</span>\n        </div>\n    );\n};\n\nconst exUrl = \"/my/share\";\nconst ReviewPopup = props => {\n    const {\n        bodyProps,\n        titleProps,\n        cancelProps,\n        selected_doctor,\n        selected_hospital = \"삼성서울병원\",\n        onClose,\n        message_open\n    } = props;\n    const getTemporaryToken = cb => {\n        let selected_view;\n        let selected_id;\n        if (sessionStorage.getItem(\"selected_view\") == \"doctor\") {\n            selected_view = \"doctor\";\n            selected_id = props.selected_doctor_id;\n        } else if (sessionStorage.getItem(\"selected_view\") == \"hospital\") {\n            selected_view = \"hospital\";\n            selected_id = props.selected_hospital_id;\n        }\n\n        const encodeForm = data => {\n            return Object.keys(data)\n                .map(\n                    key =>\n                        encodeURIComponent(key) +\n                        \"=\" +\n                        encodeURIComponent(data[key])\n                )\n                .join(\"&\");\n        };\n        axios\n            .post(\n                `https://${BASE_URL + exUrl}`,\n                encodeForm({ url: `/v1/${selected_view}/${selected_id}` }),\n                {\n                    headers: {\n                        \"X-Api-Key\": localStorage.getItem(\"jwt_token\")\n                    }\n                }\n            )\n            .then(res => {\n                if (res.data.code == 0) {\n                    if (res.data.msg) {\n                        cb({ token: res.data.msg });\n                    }\n                }\n            })\n            .catch(error => {});\n    };\n    return (\n        <PaperStyle style={getModalStyle()}>\n            <Content>\n                <Title {...titleProps}>공유하기</Title>\n                <Body {...bodyProps}>\n                    <KaKao\n                        onClose={onClose}\n                        selected_doctor={selected_doctor}\n                        selected_hospital={selected_hospital}\n                        getTemporaryToken={getTemporaryToken}\n                    ></KaKao>\n                    <Sns\n                        onClose={onClose}\n                        selected_doctor={selected_doctor}\n                        selected_hospital={selected_hospital}\n                        getTemporaryToken={getTemporaryToken}\n                    ></Sns>\n                    <Url\n                        onClose={onClose}\n                        message_open={message_open}\n                        selected_doctor={selected_doctor}\n                        selected_hospital={selected_hospital}\n                        getTemporaryToken={getTemporaryToken}\n                    ></Url>\n                </Body>\n            </Content>\n            <Cancel onClick={onClose} {...cancelProps}>\n                <CancelIcon></CancelIcon>\n            </Cancel>\n        </PaperStyle>\n    );\n};\n\nfunction Index(props) {\n    const { open, onClose, ...other } = props;\n\n    const handleClose = () => {\n        onClose();\n    };\n    return (\n        <Layout\n            open={props.open}\n            handleClose={handleClose}\n            content={ReviewPopup}\n            {...other}\n        />\n    );\n}\n\nconst mapStateToProps = state => {\n    return {\n        selected_doctor: state.doctorinfo.data.name_kor,\n        selected_hospital: state.hospitalinfo.data.name,\n        selected_doctor_id: state.doctorinfo.selected_doctor_id,\n        selected_hospital_id: state.hospitalinfo.selected_hospital_id\n    };\n};\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators({ message_open }, dispatch);\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Index);\n"]},"metadata":{},"sourceType":"module"}